A51 MACRO ASSEMBLER  SINGER                                                               01/09/2026 15:56:42 PAGE     1


MACRO ASSEMBLER A51 V8.2.7.0
OBJECT MODULE PLACED IN .\Objects\singer.obj
ASSEMBLER INVOKED BY: C:\Keil_v5\C51\BIN\A51.EXE driver\singer.asm NOMOD51 SET(SMALL) DEBUG PRINT(.\Listings\singer.lst)
                       OBJECT(.\Objects\singer.obj) EP

LOC  OBJ            LINE     SOURCE

                       1     SINGER_SEGMENT SEGMENT CODE
----                   2     RSEG SINGER_SEGMENT
                       3     ;$include (C8051F020.inc)
                +1     4     ;-----------------------------------------------------------------------------
                +1     5     ;       
                +1     6     ;       
                +1     7     ;
                +1     8     ;
                +1     9     ;       FILE NAME       : C8051F020.INC 
                +1    10     ;       TARGET MCUs     : C8051F020, 'F021, 'F022, 'F023 
                +1    11     ;       DESCRIPTION     : Register/bit definitions for the C8051F02x product family.  
                +1    12     ;
                +1    13     ;       REVISION 1.0    
                +1    14     ;
                +1    15     ;-----------------------------------------------------------------------------
                +1    16     ;REGISTER DEFINITIONS
                +1    17     ;
  0080          +1    18     P0       DATA  080H   ; PORT 0
  0081          +1    19     SP       DATA  081H   ; STACK POINTER
  0082          +1    20     DPL      DATA  082H   ; DATA POINTER - LOW BYTE
  0083          +1    21     DPH      DATA  083H   ; DATA POINTER - HIGH BYTE
  0084          +1    22     P4       DATA  084H   ; PORT 4
  0085          +1    23     P5       DATA  085H   ; PORT 5
  0086          +1    24     P6       DATA  086H   ; PORT 6
  0087          +1    25     PCON     DATA  087H   ; POWER CONTROL
  0088          +1    26     TCON     DATA  088H   ; TIMER CONTROL
  0089          +1    27     TMOD     DATA  089H   ; TIMER MODE
  008A          +1    28     TL0      DATA  08AH   ; TIMER 0 - LOW BYTE
  008B          +1    29     TL1      DATA  08BH   ; TIMER 1 - LOW BYTE
  008C          +1    30     TH0      DATA  08CH   ; TIMER 0 - HIGH BYTE
  008D          +1    31     TH1      DATA  08DH   ; TIMER 1 - HIGH BYTE
  008E          +1    32     CKCON    DATA  08EH   ; CLOCK CONTROL
  008F          +1    33     PSCTL    DATA  08FH   ; PROGRAM STORE R/W CONTROL
  0090          +1    34     P1       DATA  090H   ; PORT 1
  0091          +1    35     TMR3CN   DATA  091H   ; TIMER 3 CONTROL
  0092          +1    36     TMR3RLL  DATA  092H   ; TIMER 3 RELOAD REGISTER - LOW BYTE
  0093          +1    37     TMR3RLH  DATA  093H   ; TIMER 3 RELOAD REGISTER - HIGH BYTE
  0094          +1    38     TMR3L    DATA  094H   ; TIMER 3 - LOW BYTE
  0095          +1    39     TMR3H    DATA  095H   ; TIMER 3 - HIGH BYTE
  0096          +1    40     P7       DATA  096H   ; PORT 7
  0098          +1    41     SCON0    DATA  098H   ; SERIAL PORT 0 CONTROL
  0099          +1    42     SBUF0    DATA  099H   ; SERIAL PORT 0 BUFFER
  009A          +1    43     SPI0CFG  DATA  09AH   ; SERIAL PERIPHERAL INTERFACE 0 CONFIGURATION
  009B          +1    44     SPI0DAT  DATA  09BH   ; SERIAL PERIPHERAL INTERFACE 0 DATA
  009C          +1    45     ADC1     DATA  09CH   ; ADC 1 DATA
  009D          +1    46     SPI0CKR  DATA  09DH   ; SERIAL PERIPHERAL INTERFACE 0 CLOCK RATE CONTROL
  009E          +1    47     CPT0CN   DATA  09EH   ; COMPARATOR 0 CONTROL
  009F          +1    48     CPT1CN   DATA  09FH   ; COMPARATOR 1 CONTROL 
  00A0          +1    49     P2       DATA  0A0H   ; PORT 2
  00A1          +1    50     EMI0TC   DATA  0A1H   ; EMIF TIMING CONTROL
  00A3          +1    51     EMI0CF   DATA  0A3H   ; EXTERNAL MEMORY INTERFACE (EMIF) CONFIGURATION
  00A4          +1    52     P0MDOUT  DATA  0A4H   ; PORT 0 OUTPUT MODE CONFIGURATION
  00A5          +1    53     P1MDOUT  DATA  0A5H   ; PORT 1 OUTPUT MODE CONFIGURATION
  00A6          +1    54     P2MDOUT  DATA  0A6H   ; PORT 2 OUTPUT MODE CONFIGURATION
  00A7          +1    55     P3MDOUT  DATA  0A7H   ; PORT 3 OUTPUT MODE CONFIGURATION
  00A8          +1    56     IE       DATA  0A8H   ; INTERRUPT ENABLE
  00A9          +1    57     SADDR0   DATA  0A9H   ; SERIAL PORT 0 SLAVE ADDRESS
A51 MACRO ASSEMBLER  SINGER                                                               01/09/2026 15:56:42 PAGE     2

  00AA          +1    58     ADC1CN  DATA  0AAH   ; ADC 1 CONTROL
  00AB          +1    59     ADC1CF   DATA  0ABH   ; ADC 1 ANALOG MUX CONFIGURATION
  00AC          +1    60     AMX1SL   DATA  0ACH   ; ADC 1 ANALOG MUX CHANNEL SELECT
  00AD          +1    61     P3IF     DATA  0ADH   ; PORT 3 EXTERNAL INTERRUPT FLAGS
  00AE          +1    62     SADEN1   DATA  0AEH   ; SERIAL PORT 1 SLAVE ADDRESS MASK
  00AF          +1    63     EMI0CN   DATA  0AFH   ; EXTERNAL MEMORY INTERFACE CONTROL
  00B0          +1    64     P3       DATA  0B0H   ; PORT 3
  00B1          +1    65     OSCXCN   DATA  0B1H   ; EXTERNAL OSCILLATOR CONTROL
  00B2          +1    66     OSCICN   DATA  0B2H   ; INTERNAL OSCILLATOR CONTROL
  00B5          +1    67     P74OUT   DATA  0B5H   ; PORTS 4 - 7 OUTPUT MODE
  00B6          +1    68     FLSCL    DATA  0B6H   ; FLASH MEMORY TIMING PRESCALER
  00B7          +1    69     FLACL    DATA  0B7H   ; FLASH ACESS LIMIT 
  00B8          +1    70     IP       DATA  0B8H   ; INTERRUPT PRIORITY
  00B9          +1    71     SADEN0   DATA  0B9H   ; SERIAL PORT 0 SLAVE ADDRESS MASK
  00BA          +1    72     AMX0CF   DATA  0BAH   ; ADC 0 MUX CONFIGURATION
  00BB          +1    73     AMX0SL   DATA  0BBH   ; ADC 0 MUX CHANNEL SELECTION
  00BC          +1    74     ADC0CF   DATA  0BCH   ; ADC 0 CONFIGURATION
  00BD          +1    75     P1MDIN   DATA  0BDH   ; PORT 1 INPUT MODE
  00BE          +1    76     ADC0L    DATA  0BEH   ; ADC 0 DATA - LOW BYTE
  00BF          +1    77     ADC0H    DATA  0BFH   ; ADC 0 DATA - HIGH BYTE 
  00C0          +1    78     SMB0CN   DATA  0C0H   ; SMBUS 0 CONTROL
  00C1          +1    79     SMB0STA  DATA  0C1H   ; SMBUS 0 STATUS
  00C2          +1    80     SMB0DAT  DATA  0C2H   ; SMBUS 0 DATA 
  00C3          +1    81     SMB0ADR  DATA  0C3H   ; SMBUS 0 SLAVE ADDRESS
  00C4          +1    82     ADC0GTL  DATA  0C4H   ; ADC 0 GREATER-THAN REGISTER - LOW BYTE
  00C5          +1    83     ADC0GTH  DATA  0C5H   ; ADC 0 GREATER-THAN REGISTER - HIGH BYTE
  00C6          +1    84     ADC0LTL  DATA  0C6H   ; ADC 0 LESS-THAN REGISTER - LOW BYTE
  00C7          +1    85     ADC0LTH  DATA  0C7H   ; ADC 0 LESS-THAN REGISTER - HIGH BYTE
  00C8          +1    86     T2CON    DATA  0C8H   ; TIMER 2 CONTROL
  00C9          +1    87     T4CON    DATA  0C9H   ; TIMER 4 CONTROL
  00CA          +1    88     RCAP2L   DATA  0CAH   ; TIMER 2 CAPTURE REGISTER - LOW BYTE
  00CB          +1    89     RCAP2H   DATA  0CBH   ; TIMER 2 CAPTURE REGISTER - HIGH BYTE
  00CC          +1    90     TL2      DATA  0CCH   ; TIMER 2 - LOW BYTE
  00CD          +1    91     TH2      DATA  0CDH   ; TIMER 2 - HIGH BYTE
  00CF          +1    92     SMB0CR   DATA  0CFH   ; SMBUS 0 CLOCK RATE
  00D0          +1    93     PSW      DATA  0D0H   ; PROGRAM STATUS WORD
  00D1          +1    94     REF0CN   DATA  0D1H   ; VOLTAGE REFERENCE 0 CONTROL
  00D2          +1    95     DAC0L    DATA  0D2H   ; DAC 0 REGISTER - LOW BYTE
  00D3          +1    96     DAC0H    DATA  0D3H   ; DAC 0 REGISTER - HIGH BYTE
  00D4          +1    97     DAC0CN   DATA  0D4H   ; DAC 0 CONTROL
  00D5          +1    98     DAC1L    DATA  0D5H   ; DAC 1 REGISTER - LOW BYTE
  00D6          +1    99     DAC1H    DATA  0D6H   ; DAC 1 REGISTER - HIGH BYTE
  00D7          +1   100     DAC1CN   DATA  0D7H   ; DAC 1 CONTROL
  00D8          +1   101     PCA0CN   DATA  0D8H   ; PCA 0 COUNTER CONTROL
  00D9          +1   102     PCA0MD   DATA  0D9H   ; PCA 0 COUNTER MODE
  00DA          +1   103     PCA0CPM0 DATA  0DAH   ; CONTROL REGISTER FOR PCA 0 MODULE 0
  00DB          +1   104     PCA0CPM1 DATA  0DBH   ; CONTROL REGISTER FOR PCA 0 MODULE 1
  00DC          +1   105     PCA0CPM2 DATA  0DCH   ; CONTROL REGISTER FOR PCA 0 MODULE 2
  00DD          +1   106     PCA0CPM3 DATA  0DDH   ; CONTROL REGISTER FOR PCA 0 MODULE 3
  00DE          +1   107     PCA0CPM4 DATA  0DEH   ; CONTROL REGISTER FOR PCA 0 MODULE 4
  00E0          +1   108     ACC      DATA  0E0H   ; ACCUMULATOR
  00E1          +1   109     XBR0     DATA  0E1H   ; DIGITAL CROSSBAR CONFIGURATION REGISTER 0
  00E2          +1   110     XBR1     DATA  0E2H   ; DIGITAL CROSSBAR CONFIGURATION REGISTER 1
  00E3          +1   111     XBR2     DATA  0E3H   ; DIGITAL CROSSBAR CONFIGURATION REGISTER 2
  00E4          +1   112     RCAP4L   DATA  0E4H   ; TIMER 4 CAPTURE REGISTER - LOW BYTE
  00E5          +1   113     RCAP4H   DATA  0E5H   ; TIMER 4 CAPTURE REGISTER - HIGH BYTE
  00E6          +1   114     EIE1     DATA  0E6H   ; EXTERNAL INTERRUPT ENABLE 1
  00E7          +1   115     EIE2     DATA  0E7H   ; EXTERNAL INTERRUPT ENABLE 2
  00E8          +1   116     ADC0CN   DATA  0E8H   ; ADC 0 CONTROL
  00E9          +1   117     PCA0L    DATA  0E9H   ; PCA 0 TIMER - LOW BYTE
  00EA          +1   118     PCA0CPL0 DATA  0EAH   ; CAPTURE/COMPARE REGISTER FOR PCA 0 MODULE 0 - LOW BYTE
  00EB          +1   119     PCA0CPL1 DATA  0EBH   ; CAPTURE/COMPARE REGISTER FOR PCA 0 MODULE 1 - LOW BYTE
  00EC          +1   120     PCA0CPL2 DATA  0ECH   ; CAPTURE/COMPARE REGISTER FOR PCA 0 MODULE 2 - LOW BYTE
  00ED          +1   121     PCA0CPL3 DATA  0EDH   ; CAPTURE/COMPARE REGISTER FOR PCA 0 MODULE 3 - LOW BYTE
  00EE          +1   122     PCA0CPL4 DATA  0EEH   ; CAPTURE/COMPARE REGISTER FOR PCA 0 MODULE 4 - LOW BYTE
  00EF          +1   123     RSTSRC   DATA  0EFH   ; RESET SOURCE 
A51 MACRO ASSEMBLER  SINGER                                                               01/09/2026 15:56:42 PAGE     3

  00F0          +1   124     B        DATA  0F0H   ; B REGISTER
  00F1          +1   125     SCON1    DATA  0F1H   ; SERIAL PORT 1 CONTROL
  00F2          +1   126     SBUF1    DATA  0F2H   ; SERAIL PORT 1 DATA
  00F3          +1   127     SADDR1   DATA  0F3H   ; SERAIL PORT 1 
  00F4          +1   128     TL4      DATA  0F4H   ; TIMER 4 DATA - LOW BYTE
  00F5          +1   129     TH4      DATA  0F5H   ; TIMER 4 DATA - HIGH BYTE
  00F6          +1   130     EIP1     DATA  0F6H   ; EXTERNAL INTERRUPT PRIORITY REGISTER 1
  00F7          +1   131     EIP2     DATA  0F7H   ; EXTERNAL INTERRUPT PRIORITY REGISTER 2
  00F8          +1   132     SPI0CN   DATA  0F8H   ; SERIAL PERIPHERAL INTERFACE 0 CONTROL 
  00F9          +1   133     PCA0H    DATA  0F9H   ; PCA 0 TIMER - HIGH BYTE
  00FA          +1   134     PCA0CPH0 DATA  0FAH   ; CAPTURE/COMPARE REGISTER FOR PCA 0 MODULE 0 - HIGH BYTE
  00FB          +1   135     PCA0CPH1 DATA  0FBH   ; CAPTURE/COMPARE REGISTER FOR PCA 0 MODULE 1 - HIGH BYTE
  00FC          +1   136     PCA0CPH2 DATA  0FCH   ; CAPTURE/COMPARE REGISTER FOR PCA 0 MODULE 2 - HIGH BYTE
  00FD          +1   137     PCA0CPH3 DATA  0FDH   ; CAPTURE/COMPARE REGISTER FOR PCA 0 MODULE 3 - HIGH BYTE
  00FE          +1   138     PCA0CPH4 DATA  0FEH   ; CAPTURE/COMPARE REGISTER FOR PCA 0 MODULE 4 - HIGH BYTE
  00FF          +1   139     WDTCN    DATA  0FFH   ; WATCHDOG TIMER CONTROL 
                +1   140     ;
                +1   141     ;------------------------------------------------------------------------------
                +1   142     ;BIT DEFINITIONS
                +1   143     ;
                +1   144     ; TCON 88H
  0088          +1   145     IT0      BIT   TCON.0 ; EXT. INTERRUPT 0 TYPE
  0089          +1   146     IE0      BIT   TCON.1 ; EXT. INTERRUPT 0 EDGE FLAG
  008A          +1   147     IT1      BIT   TCON.2 ; EXT. INTERRUPT 1 TYPE
  008B          +1   148     IE1      BIT   TCON.3 ; EXT. INTERRUPT 1 EDGE FLAG
  008C          +1   149     TR0      BIT   TCON.4 ; TIMER 0 ON/OFF CONTROL
  008D          +1   150     TF0      BIT   TCON.5 ; TIMER 0 OVERFLOW FLAG
  008E          +1   151     TR1      BIT   TCON.6 ; TIMER 1 ON/OFF CONTROL
  008F          +1   152     TF1      BIT   TCON.7 ; TIMER 1 OVERFLOW FLAG
                +1   153     ;
                +1   154     ; SCON0 98H
  0098          +1   155     RI       BIT   SCON0.0 ; RECEIVE INTERRUPT FLAG
  0099          +1   156     TI       BIT   SCON0.1 ; TRANSMIT INTERRUPT FLAG
  009A          +1   157     RB8      BIT   SCON0.2 ; RECEIVE BIT 8
  009B          +1   158     TB8      BIT   SCON0.3 ; TRANSMIT BIT 8
  009C          +1   159     REN      BIT   SCON0.4 ; RECEIVE ENABLE
  009D          +1   160     SM2      BIT   SCON0.5 ; MULTIPROCESSOR COMMUNICATION ENABLE
  009E          +1   161     SM1      BIT   SCON0.6 ; SERIAL MODE CONTROL BIT 1
  009F          +1   162     SM0      BIT   SCON0.7 ; SERIAL MODE CONTROL BIT 0
                +1   163     ; 
                +1   164     ; IE A8H
  00A8          +1   165     EX0      BIT   IE.0   ; EXTERNAL INTERRUPT 0 ENABLE
  00A9          +1   166     ET0      BIT   IE.1   ; TIMER 0 INTERRUPT ENABLE
  00AA          +1   167     EX1      BIT   IE.2   ; EXTERNAL INTERRUPT 1 ENABLE
  00AB          +1   168     ET1      BIT   IE.3   ; TIMER 1 INTERRUPT ENABLE
  00AC          +1   169     ES       BIT   IE.4   ; SERIAL PORT INTERRUPT ENABLE
  00AD          +1   170     ET2      BIT   IE.5   ; TIMER 2 INTERRUPT ENABLE
  00AF          +1   171     EA       BIT   IE.7   ; GLOBAL INTERRUPT ENABLE
                +1   172     ;
                +1   173     ; IP B8H
  00B8          +1   174     PX0      BIT   IP.0   ; EXTERNAL INTERRUPT 0 PRIORITY
  00B9          +1   175     PT0      BIT   IP.1   ; TIMER 0 PRIORITY
  00BA          +1   176     PX1      BIT   IP.2   ; EXTERNAL INTERRUPT 1 PRIORITY
  00BB          +1   177     PT1      BIT   IP.3   ; TIMER 1 PRIORITY
  00BC          +1   178     PS       BIT   IP.4   ; SERIAL PORT PRIORITY
  00BD          +1   179     PT2      BIT   IP.5   ; TIMER 2 PRIORITY
                +1   180     ;
                +1   181     ; SMB0CN C0H
  00C0          +1   182     SMBTOE   BIT   SMB0CN.0 ; SMBUS 0 TIMEOUT ENABLE
  00C1          +1   183     SMBFTE   BIT   SMB0CN.1 ; SMBUS 0 FREE TIMER ENABLE
  00C2          +1   184     AA       BIT   SMB0CN.2 ; SMBUS 0 ASSERT/ACKNOWLEDGE FLAG
  00C3          +1   185     SI       BIT   SMB0CN.3 ; SMBUS 0 INTERRUPT PENDING FLAG
  00C4          +1   186     STO      BIT   SMB0CN.4 ; SMBUS 0 STOP FLAG
  00C5          +1   187     STA      BIT   SMB0CN.5 ; SMBUS 0 START FLAG
  00C6          +1   188     ENSMB    BIT   SMB0CN.6 ; SMBUS 0 ENABLE 
                +1   189     ;
A51 MACRO ASSEMBLER  SINGER                                                               01/09/2026 15:56:42 PAGE     4

                +1   190     ; T2CON C8H
  00C8          +1   191     CPRL2    BIT   T2CON.0 ; CAPTURE OR RELOAD SELECT
  00C9          +1   192     CT2      BIT   T2CON.1 ; TIMER OR COUNTER SELECT
  00CA          +1   193     TR2      BIT   T2CON.2 ; TIMER 2 ON/OFF CONTROL
  00CB          +1   194     EXEN2    BIT   T2CON.3 ; TIMER 2 EXTERNAL ENABLE FLAG
  00CC          +1   195     TCLK     BIT   T2CON.4 ; TRANSMIT CLOCK FLAG
  00CD          +1   196     RCLK     BIT   T2CON.5 ; RECEIVE CLOCK FLAG
  00CE          +1   197     EXF2     BIT   T2CON.6 ; EXTERNAL FLAG
  00CF          +1   198     TF2      BIT   T2CON.7 ; TIMER 2 OVERFLOW FLAG
                +1   199     ;
                +1   200     ; PSW D0H
  00D0          +1   201     P        BIT   PSW.0  ; ACCUMULATOR PARITY FLAG
  00D1          +1   202     F1       BIT   PSW.1  ; USER FLAG 1
  00D2          +1   203     OV       BIT   PSW.2  ; OVERFLOW FLAG
  00D3          +1   204     RS0      BIT   PSW.3  ; REGISTER BANK SELECT 0
  00D4          +1   205     RS1      BIT   PSW.4  ; REGISTER BANK SELECT 1
  00D5          +1   206     F0       BIT   PSW.5  ; USER FLAG 0
  00D6          +1   207     AC       BIT   PSW.6  ; AUXILIARY CARRY FLAG
  00D7          +1   208     CY       BIT   PSW.7  ; CARRY FLAG
                +1   209     ;
                +1   210     ; PCA0CN D8H
  00D8          +1   211     CCF0     BIT   PCA0CN.0 ; PCA 0 MODULE 0 INTERRUPT FLAG
  00D9          +1   212     CCF1     BIT   PCA0CN.1 ; PCA 0 MODULE 1 INTERRUPT FLAG
  00DA          +1   213     CCF2     BIT   PCA0CN.2 ; PCA 0 MODULE 2 INTERRUPT FLAG
  00DB          +1   214     CCF3     BIT   PCA0CN.3 ; PCA 0 MODULE 3 INTERRUPT FLAG
  00DC          +1   215     CCF4     BIT   PCA0CN.4 ; PCA 0 MODULE 4 INTERRUPT FLAG
  00DE          +1   216     CR       BIT   PCA0CN.6 ; PCA 0 COUNTER RUN CONTROL BIT
  00DF          +1   217     CF       BIT   PCA0CN.7 ; PCA 0 COUNTER OVERFLOW FLAG
                +1   218     ;
                +1   219     ; ADC0CN E8H
  00E8          +1   220     AD0LJST  BIT   ADC0CN.0 ; ADC 0 RIGHT JUSTIFY DATA BIT
  00E9          +1   221     AD0WINT  BIT   ADC0CN.1 ; ADC 0 WINDOW COMPARE INTERRUPT FLAG
  00EA          +1   222     AD0STM0  BIT   ADC0CN.2 ; ADC 0 START OF CONVERSION MODE BIT 0
  00EB          +1   223     AD0STM1  BIT   ADC0CN.3 ; ADC 0 START OF CONVERSION MODE BIT 1
  00EC          +1   224     AD0BUSY  BIT   ADC0CN.4 ; ADC 0 BUSY FLAG
  00ED          +1   225     AD0INT   BIT   ADC0CN.5 ; ADC 0 CONVERISION COMPLETE INTERRUPT FLAG 
  00EE          +1   226     AD0TM    BIT   ADC0CN.6 ; ADC 0 TRACK MODE
  00EF          +1   227     AD0EN    BIT   ADC0CN.7 ; ADC 0 ENABLE
                +1   228     ;
                +1   229     ; SPI0CN F8H
  00F8          +1   230     SPIEN    BIT   SPI0CN.0 ; SPI 0 SPI ENABLE
  00F9          +1   231     MSTEN    BIT   SPI0CN.1 ; SPI 0 MASTER ENABLE
  00FA          +1   232     SLVSEL   BIT   SPI0CN.2 ; SPI 0 SLAVE SELECT
  00FB          +1   233     TXBSY    BIT   SPI0CN.3 ; SPI 0 TX BUSY FLAG
  00FC          +1   234     RXOVRN   BIT   SPI0CN.4 ; SPI 0 RX OVERRUN FLAG
  00FD          +1   235     MODF     BIT   SPI0CN.5 ; SPI 0 MODE FAULT FLAG
  00FE          +1   236     WCOL     BIT   SPI0CN.6 ; SPI 0 WRITE COLLISION FLAG
  00FF          +1   237     SPIF     BIT   SPI0CN.7 ; SPI 0 INTERRUPT FLAG
                     238     
                     239     
                     240     ;-----------------------------------------------------------------------------
                     241     ; External Dependencies
                     242     ;-----------------------------------------------------------------------------
                     243     EXTRN CODE(Buzzer_Init)
                     244     EXTRN CODE(Buzzer_Start)
                     245     EXTRN CODE(Buzzer_Stop)
                     246     EXTRN CODE(Buzzer_Set_Frequency)
                     247     EXTRN CODE(DELAY_MS)
                     248     
                     249     ;-----------------------------------------------------------------------------
                     250     ; Public Interface
                     251     ;-----------------------------------------------------------------------------
                     252     PUBLIC Singer_Init
                     253     PUBLIC Singer_Play
                     254     PUBLIC Singer_PlayNote ; Add new public function
                     255     
A51 MACRO ASSEMBLER  SINGER                                                               01/09/2026 15:56:42 PAGE     5

                     256     ;-----------------------------------------------------------------------------
                     257     ; Singer_Init
                     258     ;-----------------------------------------------------------------------------
0000                 259     Singer_Init:
0000 120000   F      260         LCALL Buzzer_Init
0003 22              261         RET
                     262     
                     263     ;-----------------------------------------------------------------------------
                     264     ; Singer_PlayNote
                     265     ;-----------------------------------------------------------------------------
                     266     ; Description: Plays a single note based on Floor/Number input.
                     267     ; Input: R7 = Floor Number (signed byte)
                     268     ;        -2 -> L6, -1 -> L7, 0..7 -> M1..M7, 8 -> H1
                     269     ;        Uses F-Major scale as defined in table.
                     270     ;-----------------------------------------------------------------------------
0004                 271     Singer_PlayNote:
0004 C0E0            272         PUSH Acc
0006 C0D0            273         PUSH PSW
                     274         
                     275         ; Map Floor to Table Index
                     276         ; Floor -2 (FEh) -> Index 10 (L6)
                     277         ; Floor -1 (FFh) -> Index 11 (L7)
                     278         ; Floor 1  (01h) -> Index 1  (M1)
                     279         ; ...
                     280         ; Floor 7  (07h) -> Index 7  (M7)
                     281         ; Floor 8  (08h) -> Index 8  (H1)
                     282         
0008 EF              283         MOV A, R7
0009 B4FE04          284         CJNE A, #0FEh, SPN_CHECK_NM1
                     285         ; -2
000C 7A0A            286         MOV R2, #10
000E 800F            287         SJMP SPN_PLAY
                     288         
0010                 289     SPN_CHECK_NM1:
0010 B4FF04          290         CJNE A, #0FFh, SPN_CHECK_POS
                     291         ; -1
0013 7A0B            292         MOV R2, #11
0015 8008            293         SJMP SPN_PLAY
                     294         
0017                 295     SPN_CHECK_POS:
                     296         ; Check if > 8 (should not happen, but clamp)
0017 B40900          297         CJNE A, #09h, SPN_LE8
001A                 298     SPN_LE8:
001A 502B            299         JNC SPN_RET ; >= 9, ignore
                     300         
                     301         ; Check if < 1 (0 is not a floor in this system, maybe?)
001C 6029            302         JZ SPN_RET  ; 0, ignore
                     303         
                     304         ; 1..8 -> Index = Floor
001E FA              305         MOV R2, A
                     306         
001F                 307     SPN_PLAY:
                     308         ; Calculate Offset: (Index - 1) * 2
001F EA              309         MOV A, R2
0020 14              310         DEC A
0021 23              311         RL A
0022 FD              312         MOV R5, A     ; Offset
                     313         
                     314         ; Get Reload Value
0023 C083            315         PUSH DPH
0025 C082            316         PUSH DPL
0027 900000   F      317         MOV DPTR, #NOTE_RELOAD_TABLE
                     318         
                     319         ; Read High Byte
002A 93              320         MOVC A, @A+DPTR
002B FE              321         MOV R6, A
A51 MACRO ASSEMBLER  SINGER                                                               01/09/2026 15:56:42 PAGE     6

                     322         
                     323         ; Read Low Byte
002C ED              324         MOV A, R5
002D 04              325         INC A
002E 93              326         MOVC A, @A+DPTR
002F FF              327         MOV R7, A
                     328         
0030 D082            329         POP DPL
0032 D083            330         POP DPH
                     331         
                     332         ; Play Note for short duration (e.g. 500ms)
0034 120000   F      333         LCALL Buzzer_Set_Frequency
0037 120000   F      334         LCALL Buzzer_Start
                     335         
003A 7CFA            336         MOV R4, #250
003C 120000   F      337         LCALL DELAY_MS
003F 7CFA            338         MOV R4, #250
0041 120000   F      339         LCALL DELAY_MS
                     340         
0044 120000   F      341         LCALL Buzzer_Stop
                     342         
0047                 343     SPN_RET:
0047 D0D0            344         POP PSW
0049 D0E0            345         POP Acc
004B 22              346         RET
                     347     
                     348     ;-----------------------------------------------------------------------------
                     349     ; Singer_Play
                     350     ;-----------------------------------------------------------------------------
                     351     ; Description: Plays "Da Dong Bei Wo De Jia Xiang" (Great Northeast My Hometown)
                     352     ;-----------------------------------------------------------------------------
004C                 353     Singer_Play:
004C C083            354         PUSH DPH
004E C082            355         PUSH DPL
                     356         
0050 900000   F      357         MOV DPTR, #SONG_TABLE
                     358         
0053                 359     SINGER_LOOP:
                     360         ; Read Note Index
0053 E4              361         CLR A
0054 93              362         MOVC A, @A+DPTR
0055 FA              363         MOV R2, A          ; R2 = Note Index
                     364         
                     365         ; Check for terminator
0056 BAFF02          366         CJNE R2, #0FFh, READ_DURATION
0059 8045            367         SJMP SINGER_DONE
                     368     
005B                 369     READ_DURATION:
005B A3              370         INC DPTR
005C E4              371         CLR A
005D 93              372         MOVC A, @A+DPTR
005E FB              373         MOV R3, A          ; R3 = Duration units
005F A3              374         INC DPTR           ; Advance to next note pair
                     375         
                     376         ; Save Song Pointer (DPTR) because we need DPTR for Note Table
0060 C083            377         PUSH DPH
0062 C082            378         PUSH DPL
                     379         
                     380         ; Check if Rest (0)
0064 EA              381         MOV A, R2
0065 6014            382         JZ PLAY_NOTE_REST
                     383         
                     384         ; Calculate Offset: (NoteIndex - 1) * 2
0067 14              385         DEC A              ; 1-based to 0-based
0068 23              386         RL A               ; A = A * 2
0069 FD              387         MOV R5, A          ; Save offset
A51 MACRO ASSEMBLER  SINGER                                                               01/09/2026 15:56:42 PAGE     7

                     388         
006A 900000   F      389         MOV DPTR, #NOTE_RELOAD_TABLE
                     390         
                     391         ; Read High Byte
006D 93              392         MOVC A, @A+DPTR
006E FE              393         MOV R6, A
                     394         
                     395         ; Read Low Byte
006F ED              396         MOV A, R5
0070 04              397         INC A
0071 93              398         MOVC A, @A+DPTR
0072 FF              399         MOV R7, A
                     400         
                     401         ; Set Frequency and Start Buzzer
0073 120000   F      402         LCALL Buzzer_Set_Frequency
0076 120000   F      403         LCALL Buzzer_Start
0079 8003            404         SJMP WAIT_DURATION
                     405     
007B                 406     PLAY_NOTE_REST:
007B 120000   F      407         LCALL Buzzer_Stop
                     408     
007E                 409     WAIT_DURATION:
                     410         ; Wait loop based on R3 (Duration units)
                     411         ; Unit = 16th note approx 120ms
                     412         ; Tempo: ~128 BPM
007E EB              413         MOV A, R3
007F 6019            414         JZ NO_WAIT 
                     415     
0081                 416     WAIT_LOOP:
0081 C0E0            417         PUSH Acc
0083 7C0F            418         MOV R4, #15     ; Adjusted: 15ms * 2 = 30ms per unit
0085 120000   F      419         LCALL DELAY_MS
0088 7C0F            420         MOV R4, #15     
008A 120000   F      421         LCALL DELAY_MS
008D D0E0            422         POP Acc
008F 14              423         DEC A
0090 70EF            424         JNZ WAIT_LOOP
                     425         
                     426         ; Articulation Gap (Staccato)
0092 120000   F      427         LCALL Buzzer_Stop
0095 7C0A            428         MOV R4, #10     ; 10ms silence
0097 120000   F      429         LCALL DELAY_MS
                     430         
009A                 431     NO_WAIT:
                     432         ; Restore Song Pointer
009A D082            433         POP DPL
009C D083            434         POP DPH
                     435         
009E 80B3            436         SJMP SINGER_LOOP
                     437     
00A0                 438     SINGER_DONE:
00A0 D082            439         POP DPL
00A2 D083            440         POP DPH
00A4 120000   F      441         LCALL Buzzer_Stop
00A7 22              442         RET
                     443     
                     444     ;-----------------------------------------------------------------------------
                     445     ; Tables
                     446     ;-----------------------------------------------------------------------------
                     447     ; Timer 2 Reload Values for SYSCLK = 22.1184 MHz
                     448     ; Formula: Reload = 65536 - (921600 / Frequency)
                     449     ; Key: F Major (1=F). Root (1) = F5 (698Hz) to transpose UP from C5.
                     450     
00A8                 451     NOTE_RELOAD_TABLE:
00A8 FAD8            452         DB 0FAh, 0D8h ; 1: M1 (F5) 698Hz
00AA FB69            453         DB 0FBh, 069h ; 2: M2 (G5) 784Hz
A51 MACRO ASSEMBLER  SINGER                                                               01/09/2026 15:56:42 PAGE     8

00AC FBE9            454         DB 0FBh, 0E9h ; 3: M3 (A5) 880Hz
00AE FC24            455         DB 0FCh, 024h ; 4: M4 (Bb5) 932Hz
00B0 FC8F            456         DB 0FCh, 08Fh ; 5: M5 (C6) 1046Hz
00B2 FCF0            457         DB 0FCh, 0F0h ; 6: M6 (D6) 1175Hz
00B4 FD45            458         DB 0FDh, 045h ; 7: M7 (E6) 1318Hz
00B6 FD6D            459         DB 0FDh, 06Dh ; 8: H1 (F6) 1397Hz
00B8 F91E            460         DB 0F9h, 01Eh ; 9: L5 (C5) 523Hz
00BA F9DE            461         DB 0F9h, 0DEh ; 10: L6 (D5) 587Hz
00BC FA8A            462         DB 0FAh, 08Ah ; 11: L7 (E5) 659Hz
00BE FDB5            463         DB 0FDh, 0B5h ; 12: H2 (G6) 1568Hz
00C0 FDF5            464         DB 0FDh, 0F5h ; 13: H3 (A6) 1760Hz
00C2 F6D1            465         DB 0F6h, 0D1h ; 14: L2 (G4) 392Hz
00C4 F7D1            466         DB 0F7h, 0D1h ; 15: L3 (A4) 440Hz
                     467     
                     468     ; Song: "Da Dong Bei Wo De Jia Xiang" (Intro / First Half)
                     469     ; Unit: 1 = 16th note (approx 20+10ms ~ 30ms base)
                     470     ; Quarter note = 4 units
00C6                 471     SONG_TABLE:
                     472         ; Line 1, Bar 1
                     473         ; 6(e) 6(e) 6.(e.) 5(s) 6(e) 3(e) 5(q)
00C6 06020602        474         DB 6, 2,  6, 2,  6, 3,  5, 1,  6, 2,  3, 2,  5, 4
00CA 06030501                
00CE 06020302                
00D2 0504                    
                     475         
                     476         ; Bar 2
                     477         ; 3.(e.) 5(s) 3(e) 7(L)(e) 6(h)
00D4 03030501        478         DB 3, 3,  5, 1,  3, 2,  11, 2,  6, 8
00D8 03020B02                
00DC 0608                    
                     479     
                     480         ; Bar 3
                     481         ; 6(q) i.(e.) 6(s) 2(H)(e) i(e) i(e) 6(e)
                     482         ; 2(H) is 12. i is 8.
00DE 06040803        483         DB 6, 4,  8, 3,  6, 1,  12, 2,  8, 2,  8, 2,  6, 2
00E2 06010C02                
00E6 08020802                
00EA 0602                    
                     484     
                     485         ; Bar 4
                     486         ; 6.(e.) 5(s) 2(e) 5(e) 3(h)
00EC 06030501        487         DB 6, 3,  5, 1,  2, 2,  5, 2,  3, 8
00F0 02020502                
00F4 0308                    
                     488     
                     489         ; Line 2, Bar 5
                     490         ; 6.(e.) 6(s) 6(e) 5(e) 6(s) 6(s) i(e) 6(e) 5(e)
                     491         ; 6.6 -> 6(3) 6(1). 65 -> 6(2) 5(2). 66i -> 6(1) 6(1) 8(2). 65 -> 6(2) 5(2).
00F6 06030601        492         DB 6, 3,  6, 1,  6, 2,  5, 2
00FA 06020502                
00FE 06010601        493         DB 6, 1,  6, 1,  8, 2,  6, 2,  5, 2
0102 08020602                
0106 0502                    
                     494     
                     495         ; Bar 6
                     496         ; 3(s) 3(s) 2(e) 1(s) 5(L)(s) 3(e) 2(h)
                     497         ; 332 -> 3(1) 3(1) 2(2). 153 -> 1(1) 9(1) 3(2). 2 -> 8.
0108 03010301        498         DB 3, 1,  3, 1,  2, 2
010C 0202                    
010E 01010901        499         DB 1, 1,  9, 1,  3, 2,  2, 8
0112 03020208                
                     500     
                     501         ; Bar 7
                     502         ; 5.(e.) 3(s) 5(e) 3(e) 5(e) 5(e) 3(e) i(e)
                     503         ; 5.3 -> 5(3) 3(1). 53 -> 5(2) 3(2). 55 -> 5(2) 5(2). 3i -> 3(2) 8(2).
0116 05030301        504         DB 5, 3,  3, 1,  5, 2,  3, 2
A51 MACRO ASSEMBLER  SINGER                                                               01/09/2026 15:56:42 PAGE     9

011A 05020302                
011E 05020502        505         DB 5, 2,  5, 2,  3, 2,  8, 2
0122 03020802                
                     506     
                     507         ; Bar 8
                     508         ; 6(w)
0126 0610            509         DB 6, 16
                     510     
                     511         ; Line 3 (Similar to L1 but start is quarter)
                     512         ; Bar 9
                     513         ; 6(q) 6.(e.) 5(s) 6(e) 3(e) 5(q)
0128 06040603        514         DB 6, 4,  6, 3,  5, 1,  6, 2,  3, 2,  5, 4
012C 05010602                
0130 03020504                
                     515     
                     516         ; Bar 10 (= Bar 2)
0134 03030501        517         DB 3, 3,  5, 1,  3, 2,  11, 2,  6, 8
0138 03020B02                
013C 0608                    
                     518     
                     519         ; Bar 11 (= Bar 3)
013E 06040803        520         DB 6, 4,  8, 3,  6, 1,  12, 2,  8, 2,  8, 2,  6, 2
0142 06010C02                
0146 08020802                
014A 0602                    
                     521     
                     522         ; Bar 12 (= Bar 4)
014C 06030501        523         DB 6, 3,  5, 1,  2, 2,  5, 2,  3, 8
0150 02020502                
0154 0308                    
                     524     
                     525         ; Line 4 (Variation)
                     526         ; Bar 13 (Same as Bar 5)
0156 06030601        527         DB 6, 3,  6, 1,  6, 2,  5, 2
015A 06020502                
015E 06010601        528         DB 6, 1,  6, 1,  8, 2,  6, 2,  5, 2
0162 08020602                
0166 0502                    
                     529     
                     530         ; Bar 14
                     531         ; 3(s) 3(s) 5(e) 1(s) 5(L)(s) 3(e) 2(h)
                     532         ; 335 -> 3(1) 3(1) 5(2). 153 -> 1(1) 9(1) 3(2).
0168 03010301        533         DB 3, 1,  3, 1,  5, 2
016C 0502                    
016E 01010901        534         DB 1, 1,  9, 1,  3, 2,  2, 8
0172 03020208                
                     535     
                     536         ; Bar 15
                     537         ; 5.(e.) 3(s) 5(e) 3(e) 5(s) 3(s) 5(e) 5(q) ??
                     538         ; Score: 5.3 53 53(underscored) 5(q)?
                     539         ; Let's parse image: | 5.3(u) 53(u) 53(uu 5) 5 | 55(u) 3i(u) 6 - |
                     540         ; Wait, Last bar of 4th line: | 5 5 3 i | 6 - - - | ? No.
                     541         ; Image Line 4 End: | 5.3 53 53 5 | 55 31 6 - |
                     542         ; Let's go with:
                     543         ; 5(3) 3(1) | 5(2) 3(2) | 5(1) 3(1) 5(2) | 5(4) ???
                     544         ; This fits 4 beats? 1 + 1 + 1 + 1. Yes.
                     545         ; So: 5.3(1) 53(1) 535(1) ?? No 5s3s5e.
                     546         ; Last 5 is quarter? No, looking at next bar pickup.
                     547         ; Let's assume:
                     548         ; 5.3 -> 5(3) 3(1)
                     549         ; 53 -> 5(2) 3(2)
                     550         ; 535 -> 5(1) 3(1) 5(2)
                     551         ; 5 -> 5(4)
0176 05030301        552         DB 5, 3,  3, 1,  5, 2,  3, 2,  5, 1,  3, 1,  5, 2,  5, 4
017A 05020302                
017E 05010301                
A51 MACRO ASSEMBLER  SINGER                                                               01/09/2026 15:56:42 PAGE    10

0182 05020504                
                     553     
                     554         ; Bar 16
                     555         ; 5 5 3 i 6 -
                     556         ; 5(2) 5(2) 3(2) 8(2) 6(8)
0186 05020502        557         DB 5, 2,  5, 2,  3, 2,  8, 2,  6, 8
018A 03020802                
018E 0608                    
                     558     
0190 FF              559         DB 0FFh ; Terminator
                     560     
                     561     END
A51 MACRO ASSEMBLER  SINGER                                                               01/09/2026 15:56:42 PAGE    11

SYMBOL TABLE LISTING
------ ----- -------


N A M E               T Y P E  V A L U E   ATTRIBUTES

AA . . . . . . . . .  B ADDR   00C0H.2 A   
AC . . . . . . . . .  B ADDR   00D0H.6 A   
ACC. . . . . . . . .  D ADDR   00E0H   A   
AD0BUSY. . . . . . .  B ADDR   00E8H.4 A   
AD0EN. . . . . . . .  B ADDR   00E8H.7 A   
AD0INT . . . . . . .  B ADDR   00E8H.5 A   
AD0LJST. . . . . . .  B ADDR   00E8H.0 A   
AD0STM0. . . . . . .  B ADDR   00E8H.2 A   
AD0STM1. . . . . . .  B ADDR   00E8H.3 A   
AD0TM. . . . . . . .  B ADDR   00E8H.6 A   
AD0WINT. . . . . . .  B ADDR   00E8H.1 A   
ADC0CF . . . . . . .  D ADDR   00BCH   A   
ADC0CN . . . . . . .  D ADDR   00E8H   A   
ADC0GTH. . . . . . .  D ADDR   00C5H   A   
ADC0GTL. . . . . . .  D ADDR   00C4H   A   
ADC0H. . . . . . . .  D ADDR   00BFH   A   
ADC0L. . . . . . . .  D ADDR   00BEH   A   
ADC0LTH. . . . . . .  D ADDR   00C7H   A   
ADC0LTL. . . . . . .  D ADDR   00C6H   A   
ADC1 . . . . . . . .  D ADDR   009CH   A   
ADC1CF . . . . . . .  D ADDR   00ABH   A   
ADC1CN . . . . . . .  D ADDR   00AAH   A   
AMX0CF . . . . . . .  D ADDR   00BAH   A   
AMX0SL . . . . . . .  D ADDR   00BBH   A   
AMX1SL . . . . . . .  D ADDR   00ACH   A   
B. . . . . . . . . .  D ADDR   00F0H   A   
BUZZER_INIT. . . . .  C ADDR   -----       EXT
BUZZER_SET_FREQUENCY  C ADDR   -----       EXT
BUZZER_START . . . .  C ADDR   -----       EXT
BUZZER_STOP. . . . .  C ADDR   -----       EXT
CCF0 . . . . . . . .  B ADDR   00D8H.0 A   
CCF1 . . . . . . . .  B ADDR   00D8H.1 A   
CCF2 . . . . . . . .  B ADDR   00D8H.2 A   
CCF3 . . . . . . . .  B ADDR   00D8H.3 A   
CCF4 . . . . . . . .  B ADDR   00D8H.4 A   
CF . . . . . . . . .  B ADDR   00D8H.7 A   
CKCON. . . . . . . .  D ADDR   008EH   A   
CPRL2. . . . . . . .  B ADDR   00C8H.0 A   
CPT0CN . . . . . . .  D ADDR   009EH   A   
CPT1CN . . . . . . .  D ADDR   009FH   A   
CR . . . . . . . . .  B ADDR   00D8H.6 A   
CT2. . . . . . . . .  B ADDR   00C8H.1 A   
CY . . . . . . . . .  B ADDR   00D0H.7 A   
DAC0CN . . . . . . .  D ADDR   00D4H   A   
DAC0H. . . . . . . .  D ADDR   00D3H   A   
DAC0L. . . . . . . .  D ADDR   00D2H   A   
DAC1CN . . . . . . .  D ADDR   00D7H   A   
DAC1H. . . . . . . .  D ADDR   00D6H   A   
DAC1L. . . . . . . .  D ADDR   00D5H   A   
DELAY_MS . . . . . .  C ADDR   -----       EXT
DPH. . . . . . . . .  D ADDR   0083H   A   
DPL. . . . . . . . .  D ADDR   0082H   A   
EA . . . . . . . . .  B ADDR   00A8H.7 A   
EIE1 . . . . . . . .  D ADDR   00E6H   A   
EIE2 . . . . . . . .  D ADDR   00E7H   A   
EIP1 . . . . . . . .  D ADDR   00F6H   A   
EIP2 . . . . . . . .  D ADDR   00F7H   A   
EMI0CF . . . . . . .  D ADDR   00A3H   A   
EMI0CN . . . . . . .  D ADDR   00AFH   A   
EMI0TC . . . . . . .  D ADDR   00A1H   A   
A51 MACRO ASSEMBLER  SINGER                                                               01/09/2026 15:56:42 PAGE    12

ENSMB. . . . . . . .  B ADDR   00C0H.6 A   
ES . . . . . . . . .  B ADDR   00A8H.4 A   
ET0. . . . . . . . .  B ADDR   00A8H.1 A   
ET1. . . . . . . . .  B ADDR   00A8H.3 A   
ET2. . . . . . . . .  B ADDR   00A8H.5 A   
EX0. . . . . . . . .  B ADDR   00A8H.0 A   
EX1. . . . . . . . .  B ADDR   00A8H.2 A   
EXEN2. . . . . . . .  B ADDR   00C8H.3 A   
EXF2 . . . . . . . .  B ADDR   00C8H.6 A   
F0 . . . . . . . . .  B ADDR   00D0H.5 A   
F1 . . . . . . . . .  B ADDR   00D0H.1 A   
FLACL. . . . . . . .  D ADDR   00B7H   A   
FLSCL. . . . . . . .  D ADDR   00B6H   A   
IE . . . . . . . . .  D ADDR   00A8H   A   
IE0. . . . . . . . .  B ADDR   0088H.1 A   
IE1. . . . . . . . .  B ADDR   0088H.3 A   
IP . . . . . . . . .  D ADDR   00B8H   A   
IT0. . . . . . . . .  B ADDR   0088H.0 A   
IT1. . . . . . . . .  B ADDR   0088H.2 A   
MODF . . . . . . . .  B ADDR   00F8H.5 A   
MSTEN. . . . . . . .  B ADDR   00F8H.1 A   
NOTE_RELOAD_TABLE. .  C ADDR   00A8H   R   SEG=SINGER_SEGMENT
NO_WAIT. . . . . . .  C ADDR   009AH   R   SEG=SINGER_SEGMENT
OSCICN . . . . . . .  D ADDR   00B2H   A   
OSCXCN . . . . . . .  D ADDR   00B1H   A   
OV . . . . . . . . .  B ADDR   00D0H.2 A   
P. . . . . . . . . .  B ADDR   00D0H.0 A   
P0 . . . . . . . . .  D ADDR   0080H   A   
P0MDOUT. . . . . . .  D ADDR   00A4H   A   
P1 . . . . . . . . .  D ADDR   0090H   A   
P1MDIN . . . . . . .  D ADDR   00BDH   A   
P1MDOUT. . . . . . .  D ADDR   00A5H   A   
P2 . . . . . . . . .  D ADDR   00A0H   A   
P2MDOUT. . . . . . .  D ADDR   00A6H   A   
P3 . . . . . . . . .  D ADDR   00B0H   A   
P3IF . . . . . . . .  D ADDR   00ADH   A   
P3MDOUT. . . . . . .  D ADDR   00A7H   A   
P4 . . . . . . . . .  D ADDR   0084H   A   
P5 . . . . . . . . .  D ADDR   0085H   A   
P6 . . . . . . . . .  D ADDR   0086H   A   
P7 . . . . . . . . .  D ADDR   0096H   A   
P74OUT . . . . . . .  D ADDR   00B5H   A   
PCA0CN . . . . . . .  D ADDR   00D8H   A   
PCA0CPH0 . . . . . .  D ADDR   00FAH   A   
PCA0CPH1 . . . . . .  D ADDR   00FBH   A   
PCA0CPH2 . . . . . .  D ADDR   00FCH   A   
PCA0CPH3 . . . . . .  D ADDR   00FDH   A   
PCA0CPH4 . . . . . .  D ADDR   00FEH   A   
PCA0CPL0 . . . . . .  D ADDR   00EAH   A   
PCA0CPL1 . . . . . .  D ADDR   00EBH   A   
PCA0CPL2 . . . . . .  D ADDR   00ECH   A   
PCA0CPL3 . . . . . .  D ADDR   00EDH   A   
PCA0CPL4 . . . . . .  D ADDR   00EEH   A   
PCA0CPM0 . . . . . .  D ADDR   00DAH   A   
PCA0CPM1 . . . . . .  D ADDR   00DBH   A   
PCA0CPM2 . . . . . .  D ADDR   00DCH   A   
PCA0CPM3 . . . . . .  D ADDR   00DDH   A   
PCA0CPM4 . . . . . .  D ADDR   00DEH   A   
PCA0H. . . . . . . .  D ADDR   00F9H   A   
PCA0L. . . . . . . .  D ADDR   00E9H   A   
PCA0MD . . . . . . .  D ADDR   00D9H   A   
PCON . . . . . . . .  D ADDR   0087H   A   
PLAY_NOTE_REST . . .  C ADDR   007BH   R   SEG=SINGER_SEGMENT
PS . . . . . . . . .  B ADDR   00B8H.4 A   
PSCTL. . . . . . . .  D ADDR   008FH   A   
PSW. . . . . . . . .  D ADDR   00D0H   A   
A51 MACRO ASSEMBLER  SINGER                                                               01/09/2026 15:56:42 PAGE    13

PT0. . . . . . . . .  B ADDR   00B8H.1 A   
PT1. . . . . . . . .  B ADDR   00B8H.3 A   
PT2. . . . . . . . .  B ADDR   00B8H.5 A   
PX0. . . . . . . . .  B ADDR   00B8H.0 A   
PX1. . . . . . . . .  B ADDR   00B8H.2 A   
RB8. . . . . . . . .  B ADDR   0098H.2 A   
RCAP2H . . . . . . .  D ADDR   00CBH   A   
RCAP2L . . . . . . .  D ADDR   00CAH   A   
RCAP4H . . . . . . .  D ADDR   00E5H   A   
RCAP4L . . . . . . .  D ADDR   00E4H   A   
RCLK . . . . . . . .  B ADDR   00C8H.5 A   
READ_DURATION. . . .  C ADDR   005BH   R   SEG=SINGER_SEGMENT
REF0CN . . . . . . .  D ADDR   00D1H   A   
REN. . . . . . . . .  B ADDR   0098H.4 A   
RI . . . . . . . . .  B ADDR   0098H.0 A   
RS0. . . . . . . . .  B ADDR   00D0H.3 A   
RS1. . . . . . . . .  B ADDR   00D0H.4 A   
RSTSRC . . . . . . .  D ADDR   00EFH   A   
RXOVRN . . . . . . .  B ADDR   00F8H.4 A   
SADDR0 . . . . . . .  D ADDR   00A9H   A   
SADDR1 . . . . . . .  D ADDR   00F3H   A   
SADEN0 . . . . . . .  D ADDR   00B9H   A   
SADEN1 . . . . . . .  D ADDR   00AEH   A   
SBUF0. . . . . . . .  D ADDR   0099H   A   
SBUF1. . . . . . . .  D ADDR   00F2H   A   
SCON0. . . . . . . .  D ADDR   0098H   A   
SCON1. . . . . . . .  D ADDR   00F1H   A   
SI . . . . . . . . .  B ADDR   00C0H.3 A   
SINGER_DONE. . . . .  C ADDR   00A0H   R   SEG=SINGER_SEGMENT
SINGER_INIT. . . . .  C ADDR   0000H   R   SEG=SINGER_SEGMENT
SINGER_LOOP. . . . .  C ADDR   0053H   R   SEG=SINGER_SEGMENT
SINGER_PLAY. . . . .  C ADDR   004CH   R   SEG=SINGER_SEGMENT
SINGER_PLAYNOTE. . .  C ADDR   0004H   R   SEG=SINGER_SEGMENT
SINGER_SEGMENT . . .  C SEG    0191H       REL=UNIT
SLVSEL . . . . . . .  B ADDR   00F8H.2 A   
SM0. . . . . . . . .  B ADDR   0098H.7 A   
SM1. . . . . . . . .  B ADDR   0098H.6 A   
SM2. . . . . . . . .  B ADDR   0098H.5 A   
SMB0ADR. . . . . . .  D ADDR   00C3H   A   
SMB0CN . . . . . . .  D ADDR   00C0H   A   
SMB0CR . . . . . . .  D ADDR   00CFH   A   
SMB0DAT. . . . . . .  D ADDR   00C2H   A   
SMB0STA. . . . . . .  D ADDR   00C1H   A   
SMBFTE . . . . . . .  B ADDR   00C0H.1 A   
SMBTOE . . . . . . .  B ADDR   00C0H.0 A   
SONG_TABLE . . . . .  C ADDR   00C6H   R   SEG=SINGER_SEGMENT
SP . . . . . . . . .  D ADDR   0081H   A   
SPI0CFG. . . . . . .  D ADDR   009AH   A   
SPI0CKR. . . . . . .  D ADDR   009DH   A   
SPI0CN . . . . . . .  D ADDR   00F8H   A   
SPI0DAT. . . . . . .  D ADDR   009BH   A   
SPIEN. . . . . . . .  B ADDR   00F8H.0 A   
SPIF . . . . . . . .  B ADDR   00F8H.7 A   
SPN_CHECK_NM1. . . .  C ADDR   0010H   R   SEG=SINGER_SEGMENT
SPN_CHECK_POS. . . .  C ADDR   0017H   R   SEG=SINGER_SEGMENT
SPN_LE8. . . . . . .  C ADDR   001AH   R   SEG=SINGER_SEGMENT
SPN_PLAY . . . . . .  C ADDR   001FH   R   SEG=SINGER_SEGMENT
SPN_RET. . . . . . .  C ADDR   0047H   R   SEG=SINGER_SEGMENT
STA. . . . . . . . .  B ADDR   00C0H.5 A   
STO. . . . . . . . .  B ADDR   00C0H.4 A   
T2CON. . . . . . . .  D ADDR   00C8H   A   
T4CON. . . . . . . .  D ADDR   00C9H   A   
TB8. . . . . . . . .  B ADDR   0098H.3 A   
TCLK . . . . . . . .  B ADDR   00C8H.4 A   
TCON . . . . . . . .  D ADDR   0088H   A   
TF0. . . . . . . . .  B ADDR   0088H.5 A   
A51 MACRO ASSEMBLER  SINGER                                                               01/09/2026 15:56:42 PAGE    14

TF1. . . . . . . . .  B ADDR   0088H.7 A   
TF2. . . . . . . . .  B ADDR   00C8H.7 A   
TH0. . . . . . . . .  D ADDR   008CH   A   
TH1. . . . . . . . .  D ADDR   008DH   A   
TH2. . . . . . . . .  D ADDR   00CDH   A   
TH4. . . . . . . . .  D ADDR   00F5H   A   
TI . . . . . . . . .  B ADDR   0098H.1 A   
TL0. . . . . . . . .  D ADDR   008AH   A   
TL1. . . . . . . . .  D ADDR   008BH   A   
TL2. . . . . . . . .  D ADDR   00CCH   A   
TL4. . . . . . . . .  D ADDR   00F4H   A   
TMOD . . . . . . . .  D ADDR   0089H   A   
TMR3CN . . . . . . .  D ADDR   0091H   A   
TMR3H. . . . . . . .  D ADDR   0095H   A   
TMR3L. . . . . . . .  D ADDR   0094H   A   
TMR3RLH. . . . . . .  D ADDR   0093H   A   
TMR3RLL. . . . . . .  D ADDR   0092H   A   
TR0. . . . . . . . .  B ADDR   0088H.4 A   
TR1. . . . . . . . .  B ADDR   0088H.6 A   
TR2. . . . . . . . .  B ADDR   00C8H.2 A   
TXBSY. . . . . . . .  B ADDR   00F8H.3 A   
WAIT_DURATION. . . .  C ADDR   007EH   R   SEG=SINGER_SEGMENT
WAIT_LOOP. . . . . .  C ADDR   0081H   R   SEG=SINGER_SEGMENT
WCOL . . . . . . . .  B ADDR   00F8H.6 A   
WDTCN. . . . . . . .  D ADDR   00FFH   A   
XBR0 . . . . . . . .  D ADDR   00E1H   A   
XBR1 . . . . . . . .  D ADDR   00E2H   A   
XBR2 . . . . . . . .  D ADDR   00E3H   A   


REGISTER BANK(S) USED: 0 


ASSEMBLY COMPLETE.  0 WARNING(S), 0 ERROR(S)
