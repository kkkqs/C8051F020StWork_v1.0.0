A51 MACRO ASSEMBLER  MAIN                                                                 01/10/2026 10:21:07 PAGE     1


MACRO ASSEMBLER A51 V8.2.7.0
OBJECT MODULE PLACED IN .\Objects\main.obj
ASSEMBLER INVOKED BY: C:\Keil_v5\C51\BIN\A51.EXE user\main.ASM NOMOD51 SET(SMALL) DEBUG PRINT(.\Listings\main.lst) OBJEC
                      T(.\Objects\main.obj) EP

LOC  OBJ            LINE     SOURCE

                       1     ;$include (config.inc)
                +1     2     ; 索引�? 0 开始，�? main.ASM 中通过偏移访问 (MOVC @A+DPTR)
                +1     3     ; 00 - '0'  - 0C0h
                +1     4     ; 01 - '1'  - 0F9h
                +1     5     ; 02 - '2'  - 0A4h
                +1     6     ; 03 - '3'  - 0B0h
                +1     7     ; 04 - '4'  - 099h
                +1     8     ; 05 - '5'  - 092h
                +1     9     ; 06 - '6'  - 082h
                +1    10     ; 07 - '7'  - 0F8h
                +1    11     ; 08 - '8'  - 080h
                +1    12     ; 09 - '9'  - 090h
                +1    13     ; 10 - 'A'  - 088h
                +1    14     ; 11 - 'b'  - 083h
                +1    15     ; 12 - 'C'  - 0C6h
                +1    16     ; 13 - 'd'  - 0A1h
                +1    17     ; 14 - 'E'  - 086h
                +1    18     ; 15 - 'F'  - 08Eh
                +1    19     ; 16 - '_'  - 0F7h
                +1    20     ; 17 - 'P.' - 00Ch
                +1    21     ; 18 - 'r'  - 0AFh
                +1    22     ; 19 - 'L'  - 047h
                +1    23     ; 20 - '0.' - 040h
                +1    24     ; 21 - '1.' - 079h
                +1    25     ; 22 - '2.' - 024h
                +1    26     ; 23 - '3.' - 030h
                +1    27     ; 24 - '4.' - 019h
                +1    28     ; 25 - '5.' - 012h
                +1    29     ; 26 - '6.' - 002h
                +1    30     ; 27 - '7.' - 078h
                +1    31     ; 28 - '8.' - 000h
                +1    32     ; 29 - '9.' - 010h
                +1    33     ; 30 - 'n'  - 0ABh
                +1    34     ; 31 - 'o'  - 0A3h
                +1    35     ; 32 - 'o.' - 023h
                +1    36     ; 33 - OFF  - 0FFh    ; 熄灭 (全部段关�?)
                +1    37     ; 34 - 'C.' - 046h    ; 自定�? C 带小数点
                +1    38     ; 35 - 'U'  - 0C1h
                +1    39     ; 36 - '-'  - 0BFh
                +1    40     ; 37 - ' '  - 0FFh
                +1    41     
0000            +1    42     SEG_TABLE:
0000 C0F9A4B0   +1    43         DB 0C0h,0F9h,0A4h,0B0h,099h,092h,082h,0F8h,080h,090h,088h,083h,0C6h,0A1h,086h,08Eh,0F7h
                             ,00Ch,0AFh,047h
0004 999282F8                
0008 80908883                
000C C6A1868E                
0010 F70CAF47                
0014 40792430   +1    44         DB 040h,079h,024h,030h,019h,012h,002h,078h,000h,010h
0018 19120278                
001C 0010                    
001E ABA323FF   +1    45         DB 0ABh,0A3h,023h,0FFh,046h,0C1h,0BFh,0FFh
0022 46C1BFFF                
                +1    46     
0026            +1    47     BITMASK_TABLE:
0026 80402010   +1    48         DB 080h,040h,020h,010h,008h,004h
002A 0804                    
A51 MACRO ASSEMBLER  MAIN                                                                 01/10/2026 10:21:07 PAGE     2

                +1    49     
002C            +1    50     PASSWORD_TABLE:
002C 01020304   +1    51         DB 01h,02h,03h,04h,05h
0030 05                      
                +1    52     
                +1    53     ; RUN_ST, OPT_ST, PASS_ST, OPT1_ST, OPT2_ST, OPT3_ST
  0000          +1    54     RUN_ST  EQU     00h
  0001          +1    55     OPT_ST  EQU     01h
  0002          +1    56     PASS_ST EQU     02h
  0003          +1    57     RESET_CHOICE_ST EQU 03h
  0004          +1    58     NEW_PASS_ST EQU 04h
  0011          +1    59     OPT1_ST EQU     11h
  0012          +1    60     OPT2_ST EQU     12h
  0013          +1    61     OPT3_ST EQU     13h
                +1    62     
                +1    63     ; Elevator states
  0020          +1    64     ELEV_ST EQU 20h
  0021          +1    65     ELEV_RUN EQU 21h
  0022          +1    66     ELEV_ARRIVED EQU 22h
  0023          +1    67     ELEV_CLOSE EQU 23h
                +1    68     
                +1    69     ; Elevator variables (RAM)
  0056          +1    70     CUR_FLr      EQU 056h
  0057          +1    71     ELEV_TIMER   EQU 057h
  0058          +1    72     ELEV_TARGET  EQU 058h
  0059          +1    73     ONE_SEC_CNT  EQU 059h
  005A          +1    74     BLINK_TIMER  EQU 05Ah
  005B          +1    75     BLINK_TOGGLE EQU 05Bh
                +1    76     
                +1    77     ; Queue variables (BITMAP based - 11 floors: -2 to 8)
                +1    78     ; Bit 0 = Floor -2, Bit 1 = Floor -1, Bit 2 = Floor 1, ... Bit 10 = Floor 8
                +1    79     ; Use 2 bytes: Low byte (bits 0-7), High byte (bits 8-10)
  005C          +1    80     INT_REQ_LO     EQU 05Ch  ; Internal request bitmap low (floors -2 to 5)
  005D          +1    81     INT_REQ_HI     EQU 05Dh  ; Internal request bitmap high (floors 6 to 8)
  005E          +1    82     EXT_UP_LO      EQU 05Eh  ; External UP request bitmap low
  005F          +1    83     EXT_UP_HI      EQU 05Fh  ; External UP request bitmap high
  0062          +1    84     EXT_DN_LO      EQU 062h  ; External DOWN request bitmap low
  0063          +1    85     EXT_DN_HI      EQU 063h  ; External DOWN request bitmap high
  0064          +1    86     ELEV_DIR       EQU 064h  ; Current direction: 0=停止, 1=�?, 2=�?
                +1    87     
                +1    88     ; Input Mode variables
  0065          +1    89     INPUT_MODE     EQU 065h ; 0=Inside, 1=Outside
  0066          +1    90     OUT_SEL_VAL    EQU 066h ; Temp storage for outside floor selection
  0067          +1    91     DEBUG_ON       EQU 067h ; Global debug flag: 0=normal, 1=jump to debug task
                +1    92     
                +1    93     ; New variables for Reset Password feature
  0068          +1    94     CURRENT_PASS   EQU 068h ; 5 bytes [068h..06Ch] holding current password in RAM
  006D          +1    95     PASS_NEXT_ST   EQU 06Dh ; State to jump to after PASS_ST success (allows reuse)
                +1    96     
                +1    97     ; Floor to Bit Index mapping:
                +1    98     ; Floor -2 -> Index 0
                +1    99     ; Floor -1 -> Index 1
                +1   100     ; Floor  1 -> Index 2
                +1   101     ; Floor  2 -> Index 3
                +1   102     ; ...
                +1   103     ; Floor  8 -> Index 10
                +1   104     ; Formula: Index = Floor + 2 (if Floor >= 1, Index = Floor + 1)
                     105     
                     106     ;$include (C8051F020.inc)
                +1   107     ;-----------------------------------------------------------------------------
                +1   108     ;       
                +1   109     ;       
                +1   110     ;
                +1   111     ;
                +1   112     ;       FILE NAME       : C8051F020.INC 
                +1   113     ;       TARGET MCUs     : C8051F020, 'F021, 'F022, 'F023 
A51 MACRO ASSEMBLER  MAIN                                                                 01/10/2026 10:21:07 PAGE     3

                +1   114     ;       DESCRIPTION     : Register/bit definitions for the C8051F02x product family.  
                +1   115     ;
                +1   116     ;       REVISION 1.0    
                +1   117     ;
                +1   118     ;-----------------------------------------------------------------------------
                +1   119     ;REGISTER DEFINITIONS
                +1   120     ;
  0080          +1   121     P0       DATA  080H   ; PORT 0
  0081          +1   122     SP       DATA  081H   ; STACK POINTER
  0082          +1   123     DPL      DATA  082H   ; DATA POINTER - LOW BYTE
  0083          +1   124     DPH      DATA  083H   ; DATA POINTER - HIGH BYTE
  0084          +1   125     P4       DATA  084H   ; PORT 4
  0085          +1   126     P5       DATA  085H   ; PORT 5
  0086          +1   127     P6       DATA  086H   ; PORT 6
  0087          +1   128     PCON     DATA  087H   ; POWER CONTROL
  0088          +1   129     TCON     DATA  088H   ; TIMER CONTROL
  0089          +1   130     TMOD     DATA  089H   ; TIMER MODE
  008A          +1   131     TL0      DATA  08AH   ; TIMER 0 - LOW BYTE
  008B          +1   132     TL1      DATA  08BH   ; TIMER 1 - LOW BYTE
  008C          +1   133     TH0      DATA  08CH   ; TIMER 0 - HIGH BYTE
  008D          +1   134     TH1      DATA  08DH   ; TIMER 1 - HIGH BYTE
  008E          +1   135     CKCON    DATA  08EH   ; CLOCK CONTROL
  008F          +1   136     PSCTL    DATA  08FH   ; PROGRAM STORE R/W CONTROL
  0090          +1   137     P1       DATA  090H   ; PORT 1
  0091          +1   138     TMR3CN   DATA  091H   ; TIMER 3 CONTROL
  0092          +1   139     TMR3RLL  DATA  092H   ; TIMER 3 RELOAD REGISTER - LOW BYTE
  0093          +1   140     TMR3RLH  DATA  093H   ; TIMER 3 RELOAD REGISTER - HIGH BYTE
  0094          +1   141     TMR3L    DATA  094H   ; TIMER 3 - LOW BYTE
  0095          +1   142     TMR3H    DATA  095H   ; TIMER 3 - HIGH BYTE
  0096          +1   143     P7       DATA  096H   ; PORT 7
  0098          +1   144     SCON0    DATA  098H   ; SERIAL PORT 0 CONTROL
  0099          +1   145     SBUF0    DATA  099H   ; SERIAL PORT 0 BUFFER
  009A          +1   146     SPI0CFG  DATA  09AH   ; SERIAL PERIPHERAL INTERFACE 0 CONFIGURATION
  009B          +1   147     SPI0DAT  DATA  09BH   ; SERIAL PERIPHERAL INTERFACE 0 DATA
  009C          +1   148     ADC1     DATA  09CH   ; ADC 1 DATA
  009D          +1   149     SPI0CKR  DATA  09DH   ; SERIAL PERIPHERAL INTERFACE 0 CLOCK RATE CONTROL
  009E          +1   150     CPT0CN   DATA  09EH   ; COMPARATOR 0 CONTROL
  009F          +1   151     CPT1CN   DATA  09FH   ; COMPARATOR 1 CONTROL 
  00A0          +1   152     P2       DATA  0A0H   ; PORT 2
  00A1          +1   153     EMI0TC   DATA  0A1H   ; EMIF TIMING CONTROL
  00A3          +1   154     EMI0CF   DATA  0A3H   ; EXTERNAL MEMORY INTERFACE (EMIF) CONFIGURATION
  00A4          +1   155     P0MDOUT  DATA  0A4H   ; PORT 0 OUTPUT MODE CONFIGURATION
  00A5          +1   156     P1MDOUT  DATA  0A5H   ; PORT 1 OUTPUT MODE CONFIGURATION
  00A6          +1   157     P2MDOUT  DATA  0A6H   ; PORT 2 OUTPUT MODE CONFIGURATION
  00A7          +1   158     P3MDOUT  DATA  0A7H   ; PORT 3 OUTPUT MODE CONFIGURATION
  00A8          +1   159     IE       DATA  0A8H   ; INTERRUPT ENABLE
  00A9          +1   160     SADDR0   DATA  0A9H   ; SERIAL PORT 0 SLAVE ADDRESS
  00AA          +1   161     ADC1CN  DATA  0AAH   ; ADC 1 CONTROL
  00AB          +1   162     ADC1CF   DATA  0ABH   ; ADC 1 ANALOG MUX CONFIGURATION
  00AC          +1   163     AMX1SL   DATA  0ACH   ; ADC 1 ANALOG MUX CHANNEL SELECT
  00AD          +1   164     P3IF     DATA  0ADH   ; PORT 3 EXTERNAL INTERRUPT FLAGS
  00AE          +1   165     SADEN1   DATA  0AEH   ; SERIAL PORT 1 SLAVE ADDRESS MASK
  00AF          +1   166     EMI0CN   DATA  0AFH   ; EXTERNAL MEMORY INTERFACE CONTROL
  00B0          +1   167     P3       DATA  0B0H   ; PORT 3
  00B1          +1   168     OSCXCN   DATA  0B1H   ; EXTERNAL OSCILLATOR CONTROL
  00B2          +1   169     OSCICN   DATA  0B2H   ; INTERNAL OSCILLATOR CONTROL
  00B5          +1   170     P74OUT   DATA  0B5H   ; PORTS 4 - 7 OUTPUT MODE
  00B6          +1   171     FLSCL    DATA  0B6H   ; FLASH MEMORY TIMING PRESCALER
  00B7          +1   172     FLACL    DATA  0B7H   ; FLASH ACESS LIMIT 
  00B8          +1   173     IP       DATA  0B8H   ; INTERRUPT PRIORITY
  00B9          +1   174     SADEN0   DATA  0B9H   ; SERIAL PORT 0 SLAVE ADDRESS MASK
  00BA          +1   175     AMX0CF   DATA  0BAH   ; ADC 0 MUX CONFIGURATION
  00BB          +1   176     AMX0SL   DATA  0BBH   ; ADC 0 MUX CHANNEL SELECTION
  00BC          +1   177     ADC0CF   DATA  0BCH   ; ADC 0 CONFIGURATION
  00BD          +1   178     P1MDIN   DATA  0BDH   ; PORT 1 INPUT MODE
  00BE          +1   179     ADC0L    DATA  0BEH   ; ADC 0 DATA - LOW BYTE
A51 MACRO ASSEMBLER  MAIN                                                                 01/10/2026 10:21:07 PAGE     4

  00BF          +1   180     ADC0H    DATA  0BFH   ; ADC 0 DATA - HIGH BYTE 
  00C0          +1   181     SMB0CN   DATA  0C0H   ; SMBUS 0 CONTROL
  00C1          +1   182     SMB0STA  DATA  0C1H   ; SMBUS 0 STATUS
  00C2          +1   183     SMB0DAT  DATA  0C2H   ; SMBUS 0 DATA 
  00C3          +1   184     SMB0ADR  DATA  0C3H   ; SMBUS 0 SLAVE ADDRESS
  00C4          +1   185     ADC0GTL  DATA  0C4H   ; ADC 0 GREATER-THAN REGISTER - LOW BYTE
  00C5          +1   186     ADC0GTH  DATA  0C5H   ; ADC 0 GREATER-THAN REGISTER - HIGH BYTE
  00C6          +1   187     ADC0LTL  DATA  0C6H   ; ADC 0 LESS-THAN REGISTER - LOW BYTE
  00C7          +1   188     ADC0LTH  DATA  0C7H   ; ADC 0 LESS-THAN REGISTER - HIGH BYTE
  00C8          +1   189     T2CON    DATA  0C8H   ; TIMER 2 CONTROL
  00C9          +1   190     T4CON    DATA  0C9H   ; TIMER 4 CONTROL
  00CA          +1   191     RCAP2L   DATA  0CAH   ; TIMER 2 CAPTURE REGISTER - LOW BYTE
  00CB          +1   192     RCAP2H   DATA  0CBH   ; TIMER 2 CAPTURE REGISTER - HIGH BYTE
  00CC          +1   193     TL2      DATA  0CCH   ; TIMER 2 - LOW BYTE
  00CD          +1   194     TH2      DATA  0CDH   ; TIMER 2 - HIGH BYTE
  00CF          +1   195     SMB0CR   DATA  0CFH   ; SMBUS 0 CLOCK RATE
  00D0          +1   196     PSW      DATA  0D0H   ; PROGRAM STATUS WORD
  00D1          +1   197     REF0CN   DATA  0D1H   ; VOLTAGE REFERENCE 0 CONTROL
  00D2          +1   198     DAC0L    DATA  0D2H   ; DAC 0 REGISTER - LOW BYTE
  00D3          +1   199     DAC0H    DATA  0D3H   ; DAC 0 REGISTER - HIGH BYTE
  00D4          +1   200     DAC0CN   DATA  0D4H   ; DAC 0 CONTROL
  00D5          +1   201     DAC1L    DATA  0D5H   ; DAC 1 REGISTER - LOW BYTE
  00D6          +1   202     DAC1H    DATA  0D6H   ; DAC 1 REGISTER - HIGH BYTE
  00D7          +1   203     DAC1CN   DATA  0D7H   ; DAC 1 CONTROL
  00D8          +1   204     PCA0CN   DATA  0D8H   ; PCA 0 COUNTER CONTROL
  00D9          +1   205     PCA0MD   DATA  0D9H   ; PCA 0 COUNTER MODE
  00DA          +1   206     PCA0CPM0 DATA  0DAH   ; CONTROL REGISTER FOR PCA 0 MODULE 0
  00DB          +1   207     PCA0CPM1 DATA  0DBH   ; CONTROL REGISTER FOR PCA 0 MODULE 1
  00DC          +1   208     PCA0CPM2 DATA  0DCH   ; CONTROL REGISTER FOR PCA 0 MODULE 2
  00DD          +1   209     PCA0CPM3 DATA  0DDH   ; CONTROL REGISTER FOR PCA 0 MODULE 3
  00DE          +1   210     PCA0CPM4 DATA  0DEH   ; CONTROL REGISTER FOR PCA 0 MODULE 4
  00E0          +1   211     ACC      DATA  0E0H   ; ACCUMULATOR
  00E1          +1   212     XBR0     DATA  0E1H   ; DIGITAL CROSSBAR CONFIGURATION REGISTER 0
  00E2          +1   213     XBR1     DATA  0E2H   ; DIGITAL CROSSBAR CONFIGURATION REGISTER 1
  00E3          +1   214     XBR2     DATA  0E3H   ; DIGITAL CROSSBAR CONFIGURATION REGISTER 2
  00E4          +1   215     RCAP4L   DATA  0E4H   ; TIMER 4 CAPTURE REGISTER - LOW BYTE
  00E5          +1   216     RCAP4H   DATA  0E5H   ; TIMER 4 CAPTURE REGISTER - HIGH BYTE
  00E6          +1   217     EIE1     DATA  0E6H   ; EXTERNAL INTERRUPT ENABLE 1
  00E7          +1   218     EIE2     DATA  0E7H   ; EXTERNAL INTERRUPT ENABLE 2
  00E8          +1   219     ADC0CN   DATA  0E8H   ; ADC 0 CONTROL
  00E9          +1   220     PCA0L    DATA  0E9H   ; PCA 0 TIMER - LOW BYTE
  00EA          +1   221     PCA0CPL0 DATA  0EAH   ; CAPTURE/COMPARE REGISTER FOR PCA 0 MODULE 0 - LOW BYTE
  00EB          +1   222     PCA0CPL1 DATA  0EBH   ; CAPTURE/COMPARE REGISTER FOR PCA 0 MODULE 1 - LOW BYTE
  00EC          +1   223     PCA0CPL2 DATA  0ECH   ; CAPTURE/COMPARE REGISTER FOR PCA 0 MODULE 2 - LOW BYTE
  00ED          +1   224     PCA0CPL3 DATA  0EDH   ; CAPTURE/COMPARE REGISTER FOR PCA 0 MODULE 3 - LOW BYTE
  00EE          +1   225     PCA0CPL4 DATA  0EEH   ; CAPTURE/COMPARE REGISTER FOR PCA 0 MODULE 4 - LOW BYTE
  00EF          +1   226     RSTSRC   DATA  0EFH   ; RESET SOURCE 
  00F0          +1   227     B        DATA  0F0H   ; B REGISTER
  00F1          +1   228     SCON1    DATA  0F1H   ; SERIAL PORT 1 CONTROL
  00F2          +1   229     SBUF1    DATA  0F2H   ; SERAIL PORT 1 DATA
  00F3          +1   230     SADDR1   DATA  0F3H   ; SERAIL PORT 1 
  00F4          +1   231     TL4      DATA  0F4H   ; TIMER 4 DATA - LOW BYTE
  00F5          +1   232     TH4      DATA  0F5H   ; TIMER 4 DATA - HIGH BYTE
  00F6          +1   233     EIP1     DATA  0F6H   ; EXTERNAL INTERRUPT PRIORITY REGISTER 1
  00F7          +1   234     EIP2     DATA  0F7H   ; EXTERNAL INTERRUPT PRIORITY REGISTER 2
  00F8          +1   235     SPI0CN   DATA  0F8H   ; SERIAL PERIPHERAL INTERFACE 0 CONTROL 
  00F9          +1   236     PCA0H    DATA  0F9H   ; PCA 0 TIMER - HIGH BYTE
  00FA          +1   237     PCA0CPH0 DATA  0FAH   ; CAPTURE/COMPARE REGISTER FOR PCA 0 MODULE 0 - HIGH BYTE
  00FB          +1   238     PCA0CPH1 DATA  0FBH   ; CAPTURE/COMPARE REGISTER FOR PCA 0 MODULE 1 - HIGH BYTE
  00FC          +1   239     PCA0CPH2 DATA  0FCH   ; CAPTURE/COMPARE REGISTER FOR PCA 0 MODULE 2 - HIGH BYTE
  00FD          +1   240     PCA0CPH3 DATA  0FDH   ; CAPTURE/COMPARE REGISTER FOR PCA 0 MODULE 3 - HIGH BYTE
  00FE          +1   241     PCA0CPH4 DATA  0FEH   ; CAPTURE/COMPARE REGISTER FOR PCA 0 MODULE 4 - HIGH BYTE
  00FF          +1   242     WDTCN    DATA  0FFH   ; WATCHDOG TIMER CONTROL 
                +1   243     ;
                +1   244     ;------------------------------------------------------------------------------
                +1   245     ;BIT DEFINITIONS
A51 MACRO ASSEMBLER  MAIN                                                                 01/10/2026 10:21:07 PAGE     5

                +1   246     ;
                +1   247     ; TCON 88H
  0088          +1   248     IT0      BIT   TCON.0 ; EXT. INTERRUPT 0 TYPE
  0089          +1   249     IE0      BIT   TCON.1 ; EXT. INTERRUPT 0 EDGE FLAG
  008A          +1   250     IT1      BIT   TCON.2 ; EXT. INTERRUPT 1 TYPE
  008B          +1   251     IE1      BIT   TCON.3 ; EXT. INTERRUPT 1 EDGE FLAG
  008C          +1   252     TR0      BIT   TCON.4 ; TIMER 0 ON/OFF CONTROL
  008D          +1   253     TF0      BIT   TCON.5 ; TIMER 0 OVERFLOW FLAG
  008E          +1   254     TR1      BIT   TCON.6 ; TIMER 1 ON/OFF CONTROL
  008F          +1   255     TF1      BIT   TCON.7 ; TIMER 1 OVERFLOW FLAG
                +1   256     ;
                +1   257     ; SCON0 98H
  0098          +1   258     RI       BIT   SCON0.0 ; RECEIVE INTERRUPT FLAG
  0099          +1   259     TI       BIT   SCON0.1 ; TRANSMIT INTERRUPT FLAG
  009A          +1   260     RB8      BIT   SCON0.2 ; RECEIVE BIT 8
  009B          +1   261     TB8      BIT   SCON0.3 ; TRANSMIT BIT 8
  009C          +1   262     REN      BIT   SCON0.4 ; RECEIVE ENABLE
  009D          +1   263     SM2      BIT   SCON0.5 ; MULTIPROCESSOR COMMUNICATION ENABLE
  009E          +1   264     SM1      BIT   SCON0.6 ; SERIAL MODE CONTROL BIT 1
  009F          +1   265     SM0      BIT   SCON0.7 ; SERIAL MODE CONTROL BIT 0
                +1   266     ; 
                +1   267     ; IE A8H
  00A8          +1   268     EX0      BIT   IE.0   ; EXTERNAL INTERRUPT 0 ENABLE
  00A9          +1   269     ET0      BIT   IE.1   ; TIMER 0 INTERRUPT ENABLE
  00AA          +1   270     EX1      BIT   IE.2   ; EXTERNAL INTERRUPT 1 ENABLE
  00AB          +1   271     ET1      BIT   IE.3   ; TIMER 1 INTERRUPT ENABLE
  00AC          +1   272     ES       BIT   IE.4   ; SERIAL PORT INTERRUPT ENABLE
  00AD          +1   273     ET2      BIT   IE.5   ; TIMER 2 INTERRUPT ENABLE
  00AF          +1   274     EA       BIT   IE.7   ; GLOBAL INTERRUPT ENABLE
                +1   275     ;
                +1   276     ; IP B8H
  00B8          +1   277     PX0      BIT   IP.0   ; EXTERNAL INTERRUPT 0 PRIORITY
  00B9          +1   278     PT0      BIT   IP.1   ; TIMER 0 PRIORITY
  00BA          +1   279     PX1      BIT   IP.2   ; EXTERNAL INTERRUPT 1 PRIORITY
  00BB          +1   280     PT1      BIT   IP.3   ; TIMER 1 PRIORITY
  00BC          +1   281     PS       BIT   IP.4   ; SERIAL PORT PRIORITY
  00BD          +1   282     PT2      BIT   IP.5   ; TIMER 2 PRIORITY
                +1   283     ;
                +1   284     ; SMB0CN C0H
  00C0          +1   285     SMBTOE   BIT   SMB0CN.0 ; SMBUS 0 TIMEOUT ENABLE
  00C1          +1   286     SMBFTE   BIT   SMB0CN.1 ; SMBUS 0 FREE TIMER ENABLE
  00C2          +1   287     AA       BIT   SMB0CN.2 ; SMBUS 0 ASSERT/ACKNOWLEDGE FLAG
  00C3          +1   288     SI       BIT   SMB0CN.3 ; SMBUS 0 INTERRUPT PENDING FLAG
  00C4          +1   289     STO      BIT   SMB0CN.4 ; SMBUS 0 STOP FLAG
  00C5          +1   290     STA      BIT   SMB0CN.5 ; SMBUS 0 START FLAG
  00C6          +1   291     ENSMB    BIT   SMB0CN.6 ; SMBUS 0 ENABLE 
                +1   292     ;
                +1   293     ; T2CON C8H
  00C8          +1   294     CPRL2    BIT   T2CON.0 ; CAPTURE OR RELOAD SELECT
  00C9          +1   295     CT2      BIT   T2CON.1 ; TIMER OR COUNTER SELECT
  00CA          +1   296     TR2      BIT   T2CON.2 ; TIMER 2 ON/OFF CONTROL
  00CB          +1   297     EXEN2    BIT   T2CON.3 ; TIMER 2 EXTERNAL ENABLE FLAG
  00CC          +1   298     TCLK     BIT   T2CON.4 ; TRANSMIT CLOCK FLAG
  00CD          +1   299     RCLK     BIT   T2CON.5 ; RECEIVE CLOCK FLAG
  00CE          +1   300     EXF2     BIT   T2CON.6 ; EXTERNAL FLAG
  00CF          +1   301     TF2      BIT   T2CON.7 ; TIMER 2 OVERFLOW FLAG
                +1   302     ;
                +1   303     ; PSW D0H
  00D0          +1   304     P        BIT   PSW.0  ; ACCUMULATOR PARITY FLAG
  00D1          +1   305     F1       BIT   PSW.1  ; USER FLAG 1
  00D2          +1   306     OV       BIT   PSW.2  ; OVERFLOW FLAG
  00D3          +1   307     RS0      BIT   PSW.3  ; REGISTER BANK SELECT 0
  00D4          +1   308     RS1      BIT   PSW.4  ; REGISTER BANK SELECT 1
  00D5          +1   309     F0       BIT   PSW.5  ; USER FLAG 0
  00D6          +1   310     AC       BIT   PSW.6  ; AUXILIARY CARRY FLAG
  00D7          +1   311     CY       BIT   PSW.7  ; CARRY FLAG
A51 MACRO ASSEMBLER  MAIN                                                                 01/10/2026 10:21:07 PAGE     6

                +1   312     ;
                +1   313     ; PCA0CN D8H
  00D8          +1   314     CCF0     BIT   PCA0CN.0 ; PCA 0 MODULE 0 INTERRUPT FLAG
  00D9          +1   315     CCF1     BIT   PCA0CN.1 ; PCA 0 MODULE 1 INTERRUPT FLAG
  00DA          +1   316     CCF2     BIT   PCA0CN.2 ; PCA 0 MODULE 2 INTERRUPT FLAG
  00DB          +1   317     CCF3     BIT   PCA0CN.3 ; PCA 0 MODULE 3 INTERRUPT FLAG
  00DC          +1   318     CCF4     BIT   PCA0CN.4 ; PCA 0 MODULE 4 INTERRUPT FLAG
  00DE          +1   319     CR       BIT   PCA0CN.6 ; PCA 0 COUNTER RUN CONTROL BIT
  00DF          +1   320     CF       BIT   PCA0CN.7 ; PCA 0 COUNTER OVERFLOW FLAG
                +1   321     ;
                +1   322     ; ADC0CN E8H
  00E8          +1   323     AD0LJST  BIT   ADC0CN.0 ; ADC 0 RIGHT JUSTIFY DATA BIT
  00E9          +1   324     AD0WINT  BIT   ADC0CN.1 ; ADC 0 WINDOW COMPARE INTERRUPT FLAG
  00EA          +1   325     AD0STM0  BIT   ADC0CN.2 ; ADC 0 START OF CONVERSION MODE BIT 0
  00EB          +1   326     AD0STM1  BIT   ADC0CN.3 ; ADC 0 START OF CONVERSION MODE BIT 1
  00EC          +1   327     AD0BUSY  BIT   ADC0CN.4 ; ADC 0 BUSY FLAG
  00ED          +1   328     AD0INT   BIT   ADC0CN.5 ; ADC 0 CONVERISION COMPLETE INTERRUPT FLAG 
  00EE          +1   329     AD0TM    BIT   ADC0CN.6 ; ADC 0 TRACK MODE
  00EF          +1   330     AD0EN    BIT   ADC0CN.7 ; ADC 0 ENABLE
                +1   331     ;
                +1   332     ; SPI0CN F8H
  00F8          +1   333     SPIEN    BIT   SPI0CN.0 ; SPI 0 SPI ENABLE
  00F9          +1   334     MSTEN    BIT   SPI0CN.1 ; SPI 0 MASTER ENABLE
  00FA          +1   335     SLVSEL   BIT   SPI0CN.2 ; SPI 0 SLAVE SELECT
  00FB          +1   336     TXBSY    BIT   SPI0CN.3 ; SPI 0 TX BUSY FLAG
  00FC          +1   337     RXOVRN   BIT   SPI0CN.4 ; SPI 0 RX OVERRUN FLAG
  00FD          +1   338     MODF     BIT   SPI0CN.5 ; SPI 0 MODE FAULT FLAG
  00FE          +1   339     WCOL     BIT   SPI0CN.6 ; SPI 0 WRITE COLLISION FLAG
  00FF          +1   340     SPIF     BIT   SPI0CN.7 ; SPI 0 INTERRUPT FLAG
                     341     
                     342     EXTRN CODE(MatrixKey)
                     343     EXTRN CODE(Timer1_Init)
                     344     EXTRN CODE(Timer0_Init)
                     345     EXTRN CODE(TIMER0_ISR)
                     346     EXTRN CODE(TIMER1_ISR)
                     347     EXTRN CODE(TIMER2_ISR)
                     348     EXTRN CODE(LED6_ApplyTable)
                     349     EXTRN CODE(LED6_Refresh)
                     350     EXTRN CODE(DELAY_MS)
                     351     EXTRN CODE(InputTask_03B)
                     352     EXTRN CODE(InputTask_039)
                     353     EXTRN CODE(RunningTask_Init)
                     354     EXTRN CODE(RunningTask_Handler)
                     355     EXTRN CODE(ConfigurationTask_Init)
                     356     EXTRN CODE(ConfigurationTask_Handler)
                     357     EXTRN CODE(Init_Device)
                     358     EXTRN CODE(Singer_Init)
                     359     EXTRN CODE(Singer_Play)
                     360     ; DebugTask is implemented inline in this file
0000                 361             ORG 0000h
0000 020200          362             LJMP MAIN
                     363     
000B                 364             ORG 000Bh
000B 020000   F      365             LJMP TIMER0_ISR
                     366     
001B                 367             ORG 001Bh
001B 020000   F      368             LJMP TIMER1_ISR
                     369     
002B                 370             ORG 002Bh
002B 020000   F      371             LJMP TIMER2_ISR
                     372     
0200                 373             ORG 0200h
0200                 374     MAIN:
0200 120000   F      375             LCALL Init_Device
                     376             
0203 7580FF          377             MOV P0, #0FFh
A51 MACRO ASSEMBLER  MAIN                                                                 01/10/2026 10:21:07 PAGE     7

0206 75A000          378             MOV P2, #00h
                     379     
                     380         ; Initialize Stack Pointer to prevent overflow into variables/display buffer
                     381         ; Variables end around 071h. Set SP to start at 080h.
0209 758180          382         MOV SP, #080h
                     383     
                     384             ; 初始化显示缓冲 (6位) => 使用 LED6 表 00 (DISPLAY_INIT_BLANK)
020C 7400            385             MOV A, #00h
020E 120000   F      386             LCALL LED6_ApplyTable
                     387     
0211 753800          388             MOV 038h, #00h
                     389     
0214 757000          390             MOV 070h, #00h
0217 757100          391             MOV 071h, #00h
                     392     
021A 7544FF          393             MOV 044h, #0FFh
021D 754500          394             MOV 045h, #00h
0220 7546FF          395             MOV 046h, #0FFh
0223 754700          396             MOV 047h, #00h
0226 754800          397             MOV 048h, #00h
0229 753A03          398             MOV 03Ah, #03h
                     399     
022C 120000   F      400             LCALL Timer1_Init
022F 120000   F      401             LCALL Timer0_Init
0232 120000   F      402             LCALL Singer_Init
0235 D2AF            403             SETB EA                ; Enable Global Interrupts
0237 120000   F      404             LCALL Singer_Play
                     405             ; Setup debug flag (default 0). If set to 1, jump to debug task.
                     406     ;       MOV DEBUG_ON, #00h
                     407     ;       MOV A, DEBUG_ON
                     408     ;       CJNE A, #01h, SKIP_DEBUG
                     409     ;       LJMP DebugTask_Handler
023A                 410     SKIP_DEBUG:
023A 120000   F      411             LCALL RunningTask_Init
023D 120000   F      412             LCALL ConfigurationTask_Init
                     413     
                     414         ; Init PASS_NEXT_ST to OPT_ST (Default behavior)
0240 756D01          415         MOV PASS_NEXT_ST, #OPT_ST
                     416     
                     417     ; -----------------------------
                     418     ; Inline debug task
                     419     ; -----------------------------
                     420     ;DebugTask_Handler:
                     421     ;       ; Debug: disable Timer1 and drive LED6 display here
                     422     ;       CLR TR1
                     423     ;       CLR ET1
                     424     ;       CLR TR0
                     425     ;       CLR ET0
                     426     
                     427     ;       ; Fill display buffer (028h..02Dh) with 1..6
                     428     ;       MOV 028h, #01h
                     429     ;       MOV 029h, #02h
                     430     ;       MOV 02Ah, #03h
                     431     ;       MOV 02Bh, #04h
                     432     ;       MOV 02Ch, #05h
                     433     ;       MOV 02Dh, #06h
                     434     
                     435     ;DebugLoop:
                     436     ;       LCALL LED6_Refresh
                     437     ;       MOV R4, #05
                     438     ;       LCALL DELAY_MS
                     439     ;       SJMP DebugLoop
                     440     
0243                 441     LOOP:
                     442             EXTRN CODE(KeyInput_Process)
0243 120000   F      443             LCALL KeyInput_Process
A51 MACRO ASSEMBLER  MAIN                                                                 01/10/2026 10:21:07 PAGE     8

                     444     
0246                 445     MXK_STATE_CHECK:
0246 E570            446             MOV A, 070h
0248 B40005          447             CJNE A,#RUN_ST, CHECK_ELEV
024B 120000   F      448             LCALL RunningTask_Handler
024E 80F3            449             SJMP LOOP
0250                 450     CHECK_ELEV:
0250 B42005          451             CJNE A,#ELEV_ST, CHECK_ELEV2
0253 120000   F      452             LCALL RunningTask_Handler
0256 80EB            453             SJMP LOOP
0258                 454     CHECK_ELEV2:
0258 B42105          455             CJNE A,#ELEV_RUN, CHECK_ELEV3
025B 120000   F      456             LCALL RunningTask_Handler
025E 80E3            457             SJMP LOOP
0260                 458     CHECK_ELEV3:
0260 B42205          459             CJNE A,#ELEV_ARRIVED, CHECK_ELEV4
0263 120000   F      460             LCALL RunningTask_Handler
0266 80DB            461             SJMP LOOP
0268                 462     CHECK_ELEV4:
0268 B42305          463             CJNE A,#ELEV_CLOSE, CHECK_OPT
026B 120000   F      464             LCALL RunningTask_Handler
026E 80D3            465             SJMP LOOP
0270                 466     CHECK_OPT:
0270 B40105          467             CJNE A,#OPT_ST, CHECK_OPT1
0273 120000   F      468             LCALL ConfigurationTask_Handler
0276 4143            469             AJMP LOOP
0278                 470     CHECK_OPT1:
0278 B41105          471             CJNE A,#OPT1_ST, CHECK_OPT2
027B 120000   F      472             LCALL ConfigurationTask_Handler
027E 4143            473             AJMP LOOP
0280                 474     CHECK_OPT2:
0280 B41205          475             CJNE A,#OPT2_ST, CHECK_OPT3
0283 120000   F      476             LCALL ConfigurationTask_Handler
0286 4143            477             AJMP LOOP
0288                 478     CHECK_OPT3:
0288 B41305          479             CJNE A,#OPT3_ST, CHECK_PASS
028B 120000   F      480             LCALL ConfigurationTask_Handler
028E 4143            481             AJMP LOOP
0290                 482     CHECK_PASS:
0290 B40205          483             CJNE A,#PASS_ST, CHECK_RESET_CHOICE
0293 120000   F      484             LCALL ConfigurationTask_Handler
0296 4143            485             AJMP LOOP
0298                 486     CHECK_RESET_CHOICE:
0298 B40305          487         CJNE A, #RESET_CHOICE_ST, CHECK_NEW_PASS_ST
029B 120000   F      488         LCALL ConfigurationTask_Handler
029E 4143            489         AJMP LOOP
02A0                 490     CHECK_NEW_PASS_ST:
02A0 B40405          491         CJNE A, #NEW_PASS_ST, SKIP_PASS
02A3 120000   F      492         LCALL ConfigurationTask_Handler
02A6 4143            493         AJMP LOOP
02A8                 494     SKIP_PASS:
02A8 4143            495             AJMP LOOP
                     496     
                     497     END
A51 MACRO ASSEMBLER  MAIN                                                                 01/10/2026 10:21:07 PAGE     9

SYMBOL TABLE LISTING
------ ----- -------


N A M E                    T Y P E  V A L U E   ATTRIBUTES

AA. . . . . . . . . . . .  B ADDR   00C0H.2 A   
AC. . . . . . . . . . . .  B ADDR   00D0H.6 A   
ACC . . . . . . . . . . .  D ADDR   00E0H   A   
AD0BUSY . . . . . . . . .  B ADDR   00E8H.4 A   
AD0EN . . . . . . . . . .  B ADDR   00E8H.7 A   
AD0INT. . . . . . . . . .  B ADDR   00E8H.5 A   
AD0LJST . . . . . . . . .  B ADDR   00E8H.0 A   
AD0STM0 . . . . . . . . .  B ADDR   00E8H.2 A   
AD0STM1 . . . . . . . . .  B ADDR   00E8H.3 A   
AD0TM . . . . . . . . . .  B ADDR   00E8H.6 A   
AD0WINT . . . . . . . . .  B ADDR   00E8H.1 A   
ADC0CF. . . . . . . . . .  D ADDR   00BCH   A   
ADC0CN. . . . . . . . . .  D ADDR   00E8H   A   
ADC0GTH . . . . . . . . .  D ADDR   00C5H   A   
ADC0GTL . . . . . . . . .  D ADDR   00C4H   A   
ADC0H . . . . . . . . . .  D ADDR   00BFH   A   
ADC0L . . . . . . . . . .  D ADDR   00BEH   A   
ADC0LTH . . . . . . . . .  D ADDR   00C7H   A   
ADC0LTL . . . . . . . . .  D ADDR   00C6H   A   
ADC1. . . . . . . . . . .  D ADDR   009CH   A   
ADC1CF. . . . . . . . . .  D ADDR   00ABH   A   
ADC1CN. . . . . . . . . .  D ADDR   00AAH   A   
AMX0CF. . . . . . . . . .  D ADDR   00BAH   A   
AMX0SL. . . . . . . . . .  D ADDR   00BBH   A   
AMX1SL. . . . . . . . . .  D ADDR   00ACH   A   
B . . . . . . . . . . . .  D ADDR   00F0H   A   
BITMASK_TABLE . . . . . .  C ADDR   0026H   A   
BLINK_TIMER . . . . . . .  N NUMB   005AH   A   
BLINK_TOGGLE. . . . . . .  N NUMB   005BH   A   
CCF0. . . . . . . . . . .  B ADDR   00D8H.0 A   
CCF1. . . . . . . . . . .  B ADDR   00D8H.1 A   
CCF2. . . . . . . . . . .  B ADDR   00D8H.2 A   
CCF3. . . . . . . . . . .  B ADDR   00D8H.3 A   
CCF4. . . . . . . . . . .  B ADDR   00D8H.4 A   
CF. . . . . . . . . . . .  B ADDR   00D8H.7 A   
CHECK_ELEV. . . . . . . .  C ADDR   0250H   A   
CHECK_ELEV2 . . . . . . .  C ADDR   0258H   A   
CHECK_ELEV3 . . . . . . .  C ADDR   0260H   A   
CHECK_ELEV4 . . . . . . .  C ADDR   0268H   A   
CHECK_NEW_PASS_ST . . . .  C ADDR   02A0H   A   
CHECK_OPT . . . . . . . .  C ADDR   0270H   A   
CHECK_OPT1. . . . . . . .  C ADDR   0278H   A   
CHECK_OPT2. . . . . . . .  C ADDR   0280H   A   
CHECK_OPT3. . . . . . . .  C ADDR   0288H   A   
CHECK_PASS. . . . . . . .  C ADDR   0290H   A   
CHECK_RESET_CHOICE. . . .  C ADDR   0298H   A   
CKCON . . . . . . . . . .  D ADDR   008EH   A   
CONFIGURATIONTASK_HANDLER  C ADDR   -----       EXT
CONFIGURATIONTASK_INIT. .  C ADDR   -----       EXT
CPRL2 . . . . . . . . . .  B ADDR   00C8H.0 A   
CPT0CN. . . . . . . . . .  D ADDR   009EH   A   
CPT1CN. . . . . . . . . .  D ADDR   009FH   A   
CR. . . . . . . . . . . .  B ADDR   00D8H.6 A   
CT2 . . . . . . . . . . .  B ADDR   00C8H.1 A   
CURRENT_PASS. . . . . . .  N NUMB   0068H   A   
CUR_FLR . . . . . . . . .  N NUMB   0056H   A   
CY. . . . . . . . . . . .  B ADDR   00D0H.7 A   
DAC0CN. . . . . . . . . .  D ADDR   00D4H   A   
DAC0H . . . . . . . . . .  D ADDR   00D3H   A   
DAC0L . . . . . . . . . .  D ADDR   00D2H   A   
A51 MACRO ASSEMBLER  MAIN                                                                 01/10/2026 10:21:07 PAGE    10

DAC1CN. . . . . . . . . .  D ADDR   00D7H   A   
DAC1H . . . . . . . . . .  D ADDR   00D6H   A   
DAC1L . . . . . . . . . .  D ADDR   00D5H   A   
DEBUG_ON. . . . . . . . .  N NUMB   0067H   A   
DELAY_MS. . . . . . . . .  C ADDR   -----       EXT
DPH . . . . . . . . . . .  D ADDR   0083H   A   
DPL . . . . . . . . . . .  D ADDR   0082H   A   
EA. . . . . . . . . . . .  B ADDR   00A8H.7 A   
EIE1. . . . . . . . . . .  D ADDR   00E6H   A   
EIE2. . . . . . . . . . .  D ADDR   00E7H   A   
EIP1. . . . . . . . . . .  D ADDR   00F6H   A   
EIP2. . . . . . . . . . .  D ADDR   00F7H   A   
ELEV_ARRIVED. . . . . . .  N NUMB   0022H   A   
ELEV_CLOSE. . . . . . . .  N NUMB   0023H   A   
ELEV_DIR. . . . . . . . .  N NUMB   0064H   A   
ELEV_RUN. . . . . . . . .  N NUMB   0021H   A   
ELEV_ST . . . . . . . . .  N NUMB   0020H   A   
ELEV_TARGET . . . . . . .  N NUMB   0058H   A   
ELEV_TIMER. . . . . . . .  N NUMB   0057H   A   
EMI0CF. . . . . . . . . .  D ADDR   00A3H   A   
EMI0CN. . . . . . . . . .  D ADDR   00AFH   A   
EMI0TC. . . . . . . . . .  D ADDR   00A1H   A   
ENSMB . . . . . . . . . .  B ADDR   00C0H.6 A   
ES. . . . . . . . . . . .  B ADDR   00A8H.4 A   
ET0 . . . . . . . . . . .  B ADDR   00A8H.1 A   
ET1 . . . . . . . . . . .  B ADDR   00A8H.3 A   
ET2 . . . . . . . . . . .  B ADDR   00A8H.5 A   
EX0 . . . . . . . . . . .  B ADDR   00A8H.0 A   
EX1 . . . . . . . . . . .  B ADDR   00A8H.2 A   
EXEN2 . . . . . . . . . .  B ADDR   00C8H.3 A   
EXF2. . . . . . . . . . .  B ADDR   00C8H.6 A   
EXT_DN_HI . . . . . . . .  N NUMB   0063H   A   
EXT_DN_LO . . . . . . . .  N NUMB   0062H   A   
EXT_UP_HI . . . . . . . .  N NUMB   005FH   A   
EXT_UP_LO . . . . . . . .  N NUMB   005EH   A   
F0. . . . . . . . . . . .  B ADDR   00D0H.5 A   
F1. . . . . . . . . . . .  B ADDR   00D0H.1 A   
FLACL . . . . . . . . . .  D ADDR   00B7H   A   
FLSCL . . . . . . . . . .  D ADDR   00B6H   A   
IE. . . . . . . . . . . .  D ADDR   00A8H   A   
IE0 . . . . . . . . . . .  B ADDR   0088H.1 A   
IE1 . . . . . . . . . . .  B ADDR   0088H.3 A   
INIT_DEVICE . . . . . . .  C ADDR   -----       EXT
INPUTTASK_039 . . . . . .  C ADDR   -----       EXT
INPUTTASK_03B . . . . . .  C ADDR   -----       EXT
INPUT_MODE. . . . . . . .  N NUMB   0065H   A   
INT_REQ_HI. . . . . . . .  N NUMB   005DH   A   
INT_REQ_LO. . . . . . . .  N NUMB   005CH   A   
IP. . . . . . . . . . . .  D ADDR   00B8H   A   
IT0 . . . . . . . . . . .  B ADDR   0088H.0 A   
IT1 . . . . . . . . . . .  B ADDR   0088H.2 A   
KEYINPUT_PROCESS. . . . .  C ADDR   -----       EXT
LED6_APPLYTABLE . . . . .  C ADDR   -----       EXT
LED6_REFRESH. . . . . . .  C ADDR   -----       EXT
LOOP. . . . . . . . . . .  C ADDR   0243H   A   
MAIN. . . . . . . . . . .  C ADDR   0200H   A   
MATRIXKEY . . . . . . . .  C ADDR   -----       EXT
MODF. . . . . . . . . . .  B ADDR   00F8H.5 A   
MSTEN . . . . . . . . . .  B ADDR   00F8H.1 A   
MXK_STATE_CHECK . . . . .  C ADDR   0246H   A   
NEW_PASS_ST . . . . . . .  N NUMB   0004H   A   
ONE_SEC_CNT . . . . . . .  N NUMB   0059H   A   
OPT1_ST . . . . . . . . .  N NUMB   0011H   A   
OPT2_ST . . . . . . . . .  N NUMB   0012H   A   
OPT3_ST . . . . . . . . .  N NUMB   0013H   A   
OPT_ST. . . . . . . . . .  N NUMB   0001H   A   
A51 MACRO ASSEMBLER  MAIN                                                                 01/10/2026 10:21:07 PAGE    11

OSCICN. . . . . . . . . .  D ADDR   00B2H   A   
OSCXCN. . . . . . . . . .  D ADDR   00B1H   A   
OUT_SEL_VAL . . . . . . .  N NUMB   0066H   A   
OV. . . . . . . . . . . .  B ADDR   00D0H.2 A   
P . . . . . . . . . . . .  B ADDR   00D0H.0 A   
P0. . . . . . . . . . . .  D ADDR   0080H   A   
P0MDOUT . . . . . . . . .  D ADDR   00A4H   A   
P1. . . . . . . . . . . .  D ADDR   0090H   A   
P1MDIN. . . . . . . . . .  D ADDR   00BDH   A   
P1MDOUT . . . . . . . . .  D ADDR   00A5H   A   
P2. . . . . . . . . . . .  D ADDR   00A0H   A   
P2MDOUT . . . . . . . . .  D ADDR   00A6H   A   
P3. . . . . . . . . . . .  D ADDR   00B0H   A   
P3IF. . . . . . . . . . .  D ADDR   00ADH   A   
P3MDOUT . . . . . . . . .  D ADDR   00A7H   A   
P4. . . . . . . . . . . .  D ADDR   0084H   A   
P5. . . . . . . . . . . .  D ADDR   0085H   A   
P6. . . . . . . . . . . .  D ADDR   0086H   A   
P7. . . . . . . . . . . .  D ADDR   0096H   A   
P74OUT. . . . . . . . . .  D ADDR   00B5H   A   
PASSWORD_TABLE. . . . . .  C ADDR   002CH   A   
PASS_NEXT_ST. . . . . . .  N NUMB   006DH   A   
PASS_ST . . . . . . . . .  N NUMB   0002H   A   
PCA0CN. . . . . . . . . .  D ADDR   00D8H   A   
PCA0CPH0. . . . . . . . .  D ADDR   00FAH   A   
PCA0CPH1. . . . . . . . .  D ADDR   00FBH   A   
PCA0CPH2. . . . . . . . .  D ADDR   00FCH   A   
PCA0CPH3. . . . . . . . .  D ADDR   00FDH   A   
PCA0CPH4. . . . . . . . .  D ADDR   00FEH   A   
PCA0CPL0. . . . . . . . .  D ADDR   00EAH   A   
PCA0CPL1. . . . . . . . .  D ADDR   00EBH   A   
PCA0CPL2. . . . . . . . .  D ADDR   00ECH   A   
PCA0CPL3. . . . . . . . .  D ADDR   00EDH   A   
PCA0CPL4. . . . . . . . .  D ADDR   00EEH   A   
PCA0CPM0. . . . . . . . .  D ADDR   00DAH   A   
PCA0CPM1. . . . . . . . .  D ADDR   00DBH   A   
PCA0CPM2. . . . . . . . .  D ADDR   00DCH   A   
PCA0CPM3. . . . . . . . .  D ADDR   00DDH   A   
PCA0CPM4. . . . . . . . .  D ADDR   00DEH   A   
PCA0H . . . . . . . . . .  D ADDR   00F9H   A   
PCA0L . . . . . . . . . .  D ADDR   00E9H   A   
PCA0MD. . . . . . . . . .  D ADDR   00D9H   A   
PCON. . . . . . . . . . .  D ADDR   0087H   A   
PS. . . . . . . . . . . .  B ADDR   00B8H.4 A   
PSCTL . . . . . . . . . .  D ADDR   008FH   A   
PSW . . . . . . . . . . .  D ADDR   00D0H   A   
PT0 . . . . . . . . . . .  B ADDR   00B8H.1 A   
PT1 . . . . . . . . . . .  B ADDR   00B8H.3 A   
PT2 . . . . . . . . . . .  B ADDR   00B8H.5 A   
PX0 . . . . . . . . . . .  B ADDR   00B8H.0 A   
PX1 . . . . . . . . . . .  B ADDR   00B8H.2 A   
RB8 . . . . . . . . . . .  B ADDR   0098H.2 A   
RCAP2H. . . . . . . . . .  D ADDR   00CBH   A   
RCAP2L. . . . . . . . . .  D ADDR   00CAH   A   
RCAP4H. . . . . . . . . .  D ADDR   00E5H   A   
RCAP4L. . . . . . . . . .  D ADDR   00E4H   A   
RCLK. . . . . . . . . . .  B ADDR   00C8H.5 A   
REF0CN. . . . . . . . . .  D ADDR   00D1H   A   
REN . . . . . . . . . . .  B ADDR   0098H.4 A   
RESET_CHOICE_ST . . . . .  N NUMB   0003H   A   
RI. . . . . . . . . . . .  B ADDR   0098H.0 A   
RS0 . . . . . . . . . . .  B ADDR   00D0H.3 A   
RS1 . . . . . . . . . . .  B ADDR   00D0H.4 A   
RSTSRC. . . . . . . . . .  D ADDR   00EFH   A   
RUNNINGTASK_HANDLER . . .  C ADDR   -----       EXT
RUNNINGTASK_INIT. . . . .  C ADDR   -----       EXT
A51 MACRO ASSEMBLER  MAIN                                                                 01/10/2026 10:21:07 PAGE    12

RUN_ST. . . . . . . . . .  N NUMB   0000H   A   
RXOVRN. . . . . . . . . .  B ADDR   00F8H.4 A   
SADDR0. . . . . . . . . .  D ADDR   00A9H   A   
SADDR1. . . . . . . . . .  D ADDR   00F3H   A   
SADEN0. . . . . . . . . .  D ADDR   00B9H   A   
SADEN1. . . . . . . . . .  D ADDR   00AEH   A   
SBUF0 . . . . . . . . . .  D ADDR   0099H   A   
SBUF1 . . . . . . . . . .  D ADDR   00F2H   A   
SCON0 . . . . . . . . . .  D ADDR   0098H   A   
SCON1 . . . . . . . . . .  D ADDR   00F1H   A   
SEG_TABLE . . . . . . . .  C ADDR   0000H   A   
SI. . . . . . . . . . . .  B ADDR   00C0H.3 A   
SINGER_INIT . . . . . . .  C ADDR   -----       EXT
SINGER_PLAY . . . . . . .  C ADDR   -----       EXT
SKIP_DEBUG. . . . . . . .  C ADDR   023AH   A   
SKIP_PASS . . . . . . . .  C ADDR   02A8H   A   
SLVSEL. . . . . . . . . .  B ADDR   00F8H.2 A   
SM0 . . . . . . . . . . .  B ADDR   0098H.7 A   
SM1 . . . . . . . . . . .  B ADDR   0098H.6 A   
SM2 . . . . . . . . . . .  B ADDR   0098H.5 A   
SMB0ADR . . . . . . . . .  D ADDR   00C3H   A   
SMB0CN. . . . . . . . . .  D ADDR   00C0H   A   
SMB0CR. . . . . . . . . .  D ADDR   00CFH   A   
SMB0DAT . . . . . . . . .  D ADDR   00C2H   A   
SMB0STA . . . . . . . . .  D ADDR   00C1H   A   
SMBFTE. . . . . . . . . .  B ADDR   00C0H.1 A   
SMBTOE. . . . . . . . . .  B ADDR   00C0H.0 A   
SP. . . . . . . . . . . .  D ADDR   0081H   A   
SPI0CFG . . . . . . . . .  D ADDR   009AH   A   
SPI0CKR . . . . . . . . .  D ADDR   009DH   A   
SPI0CN. . . . . . . . . .  D ADDR   00F8H   A   
SPI0DAT . . . . . . . . .  D ADDR   009BH   A   
SPIEN . . . . . . . . . .  B ADDR   00F8H.0 A   
SPIF. . . . . . . . . . .  B ADDR   00F8H.7 A   
STA . . . . . . . . . . .  B ADDR   00C0H.5 A   
STO . . . . . . . . . . .  B ADDR   00C0H.4 A   
T2CON . . . . . . . . . .  D ADDR   00C8H   A   
T4CON . . . . . . . . . .  D ADDR   00C9H   A   
TB8 . . . . . . . . . . .  B ADDR   0098H.3 A   
TCLK. . . . . . . . . . .  B ADDR   00C8H.4 A   
TCON. . . . . . . . . . .  D ADDR   0088H   A   
TF0 . . . . . . . . . . .  B ADDR   0088H.5 A   
TF1 . . . . . . . . . . .  B ADDR   0088H.7 A   
TF2 . . . . . . . . . . .  B ADDR   00C8H.7 A   
TH0 . . . . . . . . . . .  D ADDR   008CH   A   
TH1 . . . . . . . . . . .  D ADDR   008DH   A   
TH2 . . . . . . . . . . .  D ADDR   00CDH   A   
TH4 . . . . . . . . . . .  D ADDR   00F5H   A   
TI. . . . . . . . . . . .  B ADDR   0098H.1 A   
TIMER0_INIT . . . . . . .  C ADDR   -----       EXT
TIMER0_ISR. . . . . . . .  C ADDR   -----       EXT
TIMER1_INIT . . . . . . .  C ADDR   -----       EXT
TIMER1_ISR. . . . . . . .  C ADDR   -----       EXT
TIMER2_ISR. . . . . . . .  C ADDR   -----       EXT
TL0 . . . . . . . . . . .  D ADDR   008AH   A   
TL1 . . . . . . . . . . .  D ADDR   008BH   A   
TL2 . . . . . . . . . . .  D ADDR   00CCH   A   
TL4 . . . . . . . . . . .  D ADDR   00F4H   A   
TMOD. . . . . . . . . . .  D ADDR   0089H   A   
TMR3CN. . . . . . . . . .  D ADDR   0091H   A   
TMR3H . . . . . . . . . .  D ADDR   0095H   A   
TMR3L . . . . . . . . . .  D ADDR   0094H   A   
TMR3RLH . . . . . . . . .  D ADDR   0093H   A   
TMR3RLL . . . . . . . . .  D ADDR   0092H   A   
TR0 . . . . . . . . . . .  B ADDR   0088H.4 A   
TR1 . . . . . . . . . . .  B ADDR   0088H.6 A   
A51 MACRO ASSEMBLER  MAIN                                                                 01/10/2026 10:21:07 PAGE    13

TR2 . . . . . . . . . . .  B ADDR   00C8H.2 A   
TXBSY . . . . . . . . . .  B ADDR   00F8H.3 A   
WCOL. . . . . . . . . . .  B ADDR   00F8H.6 A   
WDTCN . . . . . . . . . .  D ADDR   00FFH   A   
XBR0. . . . . . . . . . .  D ADDR   00E1H   A   
XBR1. . . . . . . . . . .  D ADDR   00E2H   A   
XBR2. . . . . . . . . . .  D ADDR   00E3H   A   


REGISTER BANK(S) USED: 0 


ASSEMBLY COMPLETE.  0 WARNING(S), 0 ERROR(S)
